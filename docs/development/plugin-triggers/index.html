<!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dokku.com/docs/development/plugin-triggers/">
      
      
        <link rel="prev" href="../plugin-creation/">
      
      
        <link rel="next" href="../testing/">
      
      
        
      
      
      <link rel="icon" href="../../assets/favicons/favicon-96x96.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Plugin triggers - Dokku Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      
  
  
    
      
      
    
  
  
  <style>:root{--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22m263.4-27%2014.8%2036.8L315%2024.6c3%201.2%205%204.2%205%207.4s-2%206.2-5%207.4l-36.8%2014.8L263.4%2091c-1.2%203-4.2%205-7.4%205s-6.2-2-7.4-5l-14.8-36.8L197%2039.4c-3-1.2-5-4.2-5-7.4s2-6.2%205-7.4l36.8-14.8L248.6-27c1.2-3%204.2-5%207.4-5s6.2%202%207.4%205M110.7%2041.7l21.5%2050.1%2050.1%2021.5c5.9%202.5%209.7%208.3%209.7%2014.7s-3.8%2012.2-9.7%2014.7l-50.1%2021.5-21.5%2050.1c-2.5%205.9-8.3%209.7-14.7%209.7s-12.2-3.8-14.7-9.7l-21.5-50.1-50.1-21.5C3.8%20140.2%200%20134.4%200%20128s3.8-12.2%209.7-14.7l50.1-21.5%2021.5-50.1C83.8%2035.8%2089.6%2032%2096%2032s12.2%203.8%2014.7%209.7M464%20304c6.4%200%2012.2%203.8%2014.7%209.7l21.5%2050.1%2050.1%2021.5c5.9%202.5%209.7%208.3%209.7%2014.7s-3.8%2012.2-9.7%2014.7l-50.1%2021.5-21.5%2050.1c-2.5%205.9-8.3%209.7-14.7%209.7s-12.2-3.8-14.7-9.7l-21.5-50.1-50.1-21.5c-5.9-2.5-9.7-8.3-9.7-14.7s3.8-12.2%209.7-14.7l50.1-21.5%2021.5-50.1c2.5-5.9%208.3-9.7%2014.7-9.7M460%200c11%200%2021.6%204.4%2029.5%2012.2l42.3%2042.3C539.6%2062.4%20544%2073%20544%2084s-4.4%2021.6-12.2%2029.5l-88.2%2088.2-101.3-101.3%2088.2-88.2C438.4%204.4%20449%200%20460%200M44.2%20398.5l264.2-264.2%20101.3%20101.3-264.2%20264.2C137.6%20507.6%20127%20512%20116%20512s-21.6-4.4-29.5-12.2l-42.3-42.3C36.4%20449.6%2032%20439%2032%20428s4.4-21.6%2012.2-29.5%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    

  <!-- Extra style sheets (can't be set in mkdocs.yml due to content hash) -->
  <link
    rel="stylesheet"
    href="../../overrides/assets/stylesheets/main.css"
  />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plugin-triggers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <a href="https://twitter.com/dokku">
    For updates follow <strong>@dokku</strong> on
    <span class="twemoji twitter">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </span>
    <strong>Twitter</strong>
  </a>

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Dokku Documentation" class="md-header__button md-logo" aria-label="Dokku Documentation" data-md-component="logo">
      
  <img src="../../assets/dokku-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dokku Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Plugin triggers
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/dokku/dokku" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../getting-started/installation/" class="md-tabs__link">
          
  
  
    
  
  Docs

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://pro.dokku.com/docs/getting-started/" class="md-tabs__link">
        
  
  
    
  
  Pro

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://dokku.com/blog/" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://dokku.com/tutorials/" class="md-tabs__link">
        
  
  
    
  
  Tutorials

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://dokku.dpdcart.com/cart/add?product_id=217344&method_id=236878" class="md-tabs__link">
        
  
  
    
  
  Purchase Dokku Pro

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Dokku Documentation" class="md-nav__button md-logo" aria-label="Dokku Documentation" data-md-component="logo">
      
  <img src="../../assets/dokku-logo.svg" alt="logo">

    </a>
    Dokku Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dokku/dokku" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Docs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Docs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          
          <label class="md-nav__link" for="__nav_1_1" id="__nav_1_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting-started/installation/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Getting Started with Dokku
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_1_1" id="__nav_1_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started with Dokku
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/advanced-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/azure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft Azure Installation Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/debian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debian Package Installation Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/digitalocean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DigitalOcean Droplet Installation Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Installation Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/dreamhost/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DreamHost Cloud Server Installation Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/vagrant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vagrant Installation Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting-started/upgrading/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Upgrading
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_1_2" id="__nav_1_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Upgrading
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.37.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.37.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.36.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.36.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.35.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.35.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.34.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.34.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.33.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.33.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.32.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.32.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.31.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.31.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.30.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.30.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.29.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.29.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.28.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.28.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.27.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.27.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.26.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.26.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.25.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.25.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.24.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.24.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.23.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.23.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.22.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.22.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.21.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.21.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.20.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.20.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.10.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.10.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.9.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.9.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.8.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.8.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.7.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.7.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.6.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.6.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/0.5.0-migration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    0.5.0 Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/file-formats" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    None
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/uninstalling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Uninstalling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/where-to-get-help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Where to Get Help
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Commercial
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Commercial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../enterprise/pro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dokku Pro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/application-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploying an Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/application-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Application Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Log Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/remote-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/user-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/zero-downtime-deploys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zero Downtime Deploy Checks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Builders
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Builders
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/builder-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Builder Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/cloud-native-buildpacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cloud Native Buildpacks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/herokuish-buildpacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herokuish Buildpacks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/dockerfiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dockerfile Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/lambda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lambda Builder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/nixpacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nixpacks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/null/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Null Builder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/builders/railpack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Railpack
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment Methods
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment Methods
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/methods/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/methods/image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Image Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/methods/archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tar and Zip Archives
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/domains/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Domain Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/ssl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SSL Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Interacting with Processes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Interacting with Processes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../processes/entering-containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entering containers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../processes/one-off-tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    One-off Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../processes/process-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Process Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../processes/scheduled-cron-tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scheduled Cron Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Network Management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Network Management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/port-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Port Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Proxy Configuration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Proxy Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/proxy-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proxy Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/proxies/caddy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Caddy Proxy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/proxies/haproxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Haproxy Proxy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/proxies/nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nginx Proxy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/proxies/openresty/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenResty Proxy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/proxies/traefik/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Traefik Proxy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/backup-recovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup and Recovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/deployment-tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deployment Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/docker-options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Container Options
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/registry-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Registry Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/event-logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dokku Event Logs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/persistent-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persistent Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/plugin-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/repository-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repository Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-usage/resource-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Schedulers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Schedulers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/schedulers/scheduler-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scheduler Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/schedulers/docker-local/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Local Scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/schedulers/k3s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    K3s Scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/schedulers/nomad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nomad Scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/schedulers/null/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Null Scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" checked>
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugin-creation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin creation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Plugin triggers
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin triggers
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-plugin-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Available plugin triggers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Available plugin triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#app-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-destroy" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-destroy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-json-process-deploy-parallelism" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-json-process-deploy-parallelism
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-json-get-content" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-json-get-content
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-json-is-valid" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-json-is-valid
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-maybe-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-maybe-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-restart" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-restart
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-urls" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-urls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-create-dokku-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-create-dokku-image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-detect" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-detect
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-dokku-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-dokku-image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-herokuish-allowed" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-herokuish-allowed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-image-is-cnb" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-image-is-cnb
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-image-is-herokuish" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-image-is-herokuish
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-release" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-release
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buildpack-stack-name" class="md-nav__link">
    <span class="md-ellipsis">
      
        buildpack-stack-name
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caddy-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        caddy-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        certs-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-force" class="md-nav__link">
    <span class="md-ellipsis">
      
        certs-force
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-get" class="md-nav__link">
    <span class="md-ellipsis">
      
        certs-get
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checks-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        checks-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands-help-and-commands-plugin_namehelp" class="md-nav__link">
    <span class="md-ellipsis">
      
        commands help and commands &lt;PLUGIN_NAME&gt;:help
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-export" class="md-nav__link">
    <span class="md-ellipsis">
      
        config-export
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-get" class="md-nav__link">
    <span class="md-ellipsis">
      
        config-get
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-get-global" class="md-nav__link">
    <span class="md-ellipsis">
      
        config-get-global
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-post-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        core-post-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-post-extract" class="md-nav__link">
    <span class="md-ellipsis">
      
        core-post-extract
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        cron-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        cron-entries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployed-app-image-repo" class="md-nav__link">
    <span class="md-ellipsis">
      
        deployed-app-image-repo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployed-app-image-tag" class="md-nav__link">
    <span class="md-ellipsis">
      
        deployed-app-image-tag
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployed-app-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        deployed-app-repository
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-source-set" class="md-nav__link">
    <span class="md-ellipsis">
      
        deploy-source-set
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-process-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-process-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-process-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-process-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-process-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-process-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-add" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-add
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-disable" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-disable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-enable" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-enable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-urls" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-urls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-vhost-enabled" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-vhost-enabled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-deploy-branch" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-deploy-branch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-from-archive" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-from-archive
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-from-directory" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-from-directory
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-from-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-from-image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-has-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-has-code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-post-pull" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-post-pull
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-pre-pull" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-pre-pull
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-revision" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-revision
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      
        install
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haproxy-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        haproxy-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logs-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        logs-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-build-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-build-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-clear-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-clear-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-config-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-config-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-ipaddr" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-ipaddr
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-listeners" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-listeners
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-static-listeners" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-static-listeners
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-write-ipaddr" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-write-ipaddr
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-write-port" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-write-port
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-app-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-app-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-dokku-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-dokku-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-hostname" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-hostname
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-pre-reload" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-pre-reload
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openresty-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        openresty-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-clear" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-clear
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-configure" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-configure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-get" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-get
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-get-available" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-get-available
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-set-detected" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-set-detected
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-clone" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-clone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-clone-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-clone-setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-rename" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-rename
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-rename-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-rename-setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-buildpack" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-buildpack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-pack" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-pack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-certs-remove" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-certs-remove
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-certs-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-certs-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-config-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-config-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-container-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-container-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-delete" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-delete
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-domains-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-domains-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-extract" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-extract
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-proxy-ports-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-proxy-ports-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-registry-login" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-registry-login
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-release-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-release-builder
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-stack-set-todo" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-stack-set TODO
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-stop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-buildpack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-buildpack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-pack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-pack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-delete" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-delete
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-disable-vhost" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-disable-vhost
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-enable-vhost" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-enable-vhost
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-receive-app" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-receive-app
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-builder
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-buildpack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-buildpack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-pack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-pack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-restore
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-start
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procfile-get-command" class="md-nav__link">
    <span class="md-ellipsis">
      
        procfile-get-command
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procfile-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        procfile-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-build-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-build-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-clear-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-clear-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-disable" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-disable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-enable" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-enable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-is-enabled" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-is-enabled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-type
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ps-can-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        ps-can-scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ps-current-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        ps-current-scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ps-set-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        ps-set-scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receive-app" class="md-nav__link">
    <span class="md-ellipsis">
      
        receive-app
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receive-branch" class="md-nav__link">
    <span class="md-ellipsis">
      
        receive-branch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release-and-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        release-and-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report" class="md-nav__link">
    <span class="md-ellipsis">
      
        report
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        resource-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retire-container-failed" class="md-nav__link">
    <span class="md-ellipsis">
      
        retire-container-failed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-app-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-app-status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-cron-write" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-cron-write
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-detect" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-detect
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-enter" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-enter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-inspect" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-inspect
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-is-deployed" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-is-deployed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-logs-failed" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-logs-failed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-proxy-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-proxy-logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-pre-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-pre-restore
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-post-delete" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-post-delete
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-post-deploy-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-post-deploy-process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-post-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-post-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-register-retired" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-register-retired
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-retire" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-retire
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-retire" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-retire
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-stop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-stop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        storage-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traefik-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        traefik-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstall" class="md-nav__link">
    <span class="md-ellipsis">
      
        uninstall
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-auth" class="md-nav__link">
    <span class="md-ellipsis">
      
        user-auth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-auth-app" class="md-nav__link">
    <span class="md-ellipsis">
      
        user-auth-app
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        vector-template-source
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running Tests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../release-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Continuous Integration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    Continuous Integration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/continuous-integration/github-actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GitHub Actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/continuous-integration/gitlab-ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GitLab CI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/continuous-integration/generic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generic CI/CD Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/continuous-integration/woodpecker-ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Woodpecker CI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Community Contributions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Community Contributions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/clients/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Clients
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://pro.dokku.com/docs/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pro
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://dokku.com/blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://dokku.com/tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://dokku.dpdcart.com/cart/add?product_id=217344&method_id=236878" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Purchase Dokku Pro
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-plugin-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Available plugin triggers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Available plugin triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#app-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-destroy" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-destroy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-json-process-deploy-parallelism" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-json-process-deploy-parallelism
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-json-get-content" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-json-get-content
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-json-is-valid" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-json-is-valid
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-maybe-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-maybe-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-restart" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-restart
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-urls" class="md-nav__link">
    <span class="md-ellipsis">
      
        app-urls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-create-dokku-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-create-dokku-image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-detect" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-detect
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-dokku-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-dokku-image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-herokuish-allowed" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-herokuish-allowed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-image-is-cnb" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-image-is-cnb
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-image-is-herokuish" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-image-is-herokuish
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#builder-release" class="md-nav__link">
    <span class="md-ellipsis">
      
        builder-release
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buildpack-stack-name" class="md-nav__link">
    <span class="md-ellipsis">
      
        buildpack-stack-name
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caddy-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        caddy-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        certs-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-force" class="md-nav__link">
    <span class="md-ellipsis">
      
        certs-force
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-get" class="md-nav__link">
    <span class="md-ellipsis">
      
        certs-get
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checks-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        checks-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands-help-and-commands-plugin_namehelp" class="md-nav__link">
    <span class="md-ellipsis">
      
        commands help and commands &lt;PLUGIN_NAME&gt;:help
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-export" class="md-nav__link">
    <span class="md-ellipsis">
      
        config-export
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-get" class="md-nav__link">
    <span class="md-ellipsis">
      
        config-get
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-get-global" class="md-nav__link">
    <span class="md-ellipsis">
      
        config-get-global
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-post-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        core-post-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-post-extract" class="md-nav__link">
    <span class="md-ellipsis">
      
        core-post-extract
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        cron-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        cron-entries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployed-app-image-repo" class="md-nav__link">
    <span class="md-ellipsis">
      
        deployed-app-image-repo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployed-app-image-tag" class="md-nav__link">
    <span class="md-ellipsis">
      
        deployed-app-image-tag
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployed-app-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        deployed-app-repository
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-source-set" class="md-nav__link">
    <span class="md-ellipsis">
      
        deploy-source-set
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-process-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-process-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-process-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-process-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-process-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-process-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-args-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        docker-args-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-add" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-add
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-disable" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-disable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-enable" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-enable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-urls" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-urls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domains-vhost-enabled" class="md-nav__link">
    <span class="md-ellipsis">
      
        domains-vhost-enabled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-deploy-branch" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-deploy-branch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-from-archive" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-from-archive
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-from-directory" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-from-directory
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-from-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-from-image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-has-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-has-code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-post-pull" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-post-pull
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-pre-pull" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-pre-pull
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-revision" class="md-nav__link">
    <span class="md-ellipsis">
      
        git-revision
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      
        install
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#haproxy-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        haproxy-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logs-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        logs-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-build-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-build-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-clear-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-clear-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-config-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-config-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-ipaddr" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-ipaddr
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-listeners" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-listeners
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-get-static-listeners" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-get-static-listeners
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-write-ipaddr" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-write-ipaddr
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-write-port" class="md-nav__link">
    <span class="md-ellipsis">
      
        network-write-port
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-app-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-app-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-dokku-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-dokku-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-hostname" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-hostname
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nginx-pre-reload" class="md-nav__link">
    <span class="md-ellipsis">
      
        nginx-pre-reload
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openresty-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        openresty-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-clear" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-clear
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-configure" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-configure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-get" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-get
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-get-available" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-get-available
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ports-set-detected" class="md-nav__link">
    <span class="md-ellipsis">
      
        ports-set-detected
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-clone" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-clone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-clone-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-clone-setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-rename" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-rename
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-app-rename-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-app-rename-setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-buildpack" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-buildpack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-build-pack" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-build-pack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-certs-remove" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-certs-remove
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-certs-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-certs-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-config-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-config-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-container-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-container-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-create" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-create
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-delete" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-delete
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-domains-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-domains-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-extract" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-extract
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-proxy-ports-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-proxy-ports-update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-registry-login" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-registry-login
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-release-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-release-builder
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-stack-set-todo" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-stack-set TODO
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        post-stop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-buildpack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-buildpack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-build-pack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-build-pack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-delete" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-delete
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-disable-vhost" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-disable-vhost
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-enable-vhost" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-enable-vhost
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-receive-app" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-receive-app
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-builder
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-buildpack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-buildpack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-pack" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-pack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-release-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-release-dockerfile
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-restore
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre-start
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procfile-get-command" class="md-nav__link">
    <span class="md-ellipsis">
      
        procfile-get-command
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procfile-exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        procfile-exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-build-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-build-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-clear-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-clear-config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-disable" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-disable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-enable" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-enable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-is-enabled" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-is-enabled
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        proxy-type
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ps-can-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        ps-can-scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ps-current-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        ps-current-scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ps-set-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        ps-set-scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receive-app" class="md-nav__link">
    <span class="md-ellipsis">
      
        receive-app
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receive-branch" class="md-nav__link">
    <span class="md-ellipsis">
      
        receive-branch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release-and-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        release-and-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report" class="md-nav__link">
    <span class="md-ellipsis">
      
        report
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-get-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        resource-get-property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retire-container-failed" class="md-nav__link">
    <span class="md-ellipsis">
      
        retire-container-failed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-app-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-app-status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-cron-write" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-cron-write
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-detect" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-detect
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-enter" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-enter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-inspect" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-inspect
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-is-deployed" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-is-deployed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-logs-failed" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-logs-failed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-proxy-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-proxy-logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-pre-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-pre-restore
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-post-delete" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-post-delete
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-post-deploy-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-post-deploy-process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-post-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-post-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-register-retired" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-register-retired
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-retire" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-retire
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-retire" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-retire
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-run-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-run-stop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduler-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        scheduler-stop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        storage-list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traefik-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        traefik-template-source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstall" class="md-nav__link">
    <span class="md-ellipsis">
      
        uninstall
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-auth" class="md-nav__link">
    <span class="md-ellipsis">
      
        user-auth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-auth-app" class="md-nav__link">
    <span class="md-ellipsis">
      
        user-auth-app
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector-template-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        vector-template-source
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/dokku/dokku/edit/master/docs/development/plugin-triggers.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/dokku/dokku/raw/master/docs/development/plugin-triggers.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="plugin-triggers">Plugin triggers<a class="headerlink" href="#plugin-triggers" title="Permanent link">&para;</a></h1>
<p><a href="https://github.com/dokku/plugn">Plugin triggers</a> (formerly <a href="https://github.com/progrium/pluginhook">pluginhooks</a>) are a good way to jack into existing Dokku infrastructure. You can use them to modify the output of various Dokku commands or override internal configuration.</p>
<p>Plugin triggers are simply scripts that are executed by the system. You can use any language you want, so long as the script:</p>
<ul>
<li>Is executable</li>
<li>Has the proper language requirements installed</li>
</ul>
<p>For instance, if you wanted to write a plugin trigger in PHP, you would need to have <code>php</code> installed and available on the CLI prior to plugin trigger invocation.</p>
<p>The following is an example for the <code>nginx-hostname</code> plugin trigger. It reverses the hostname that is provided to nginx during deploys. If you created an executable file named <code>nginx-hostname</code> with the following code in your plugin trigger, it would be invoked by Dokku during the normal app deployment process:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">SUBDOMAIN</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">VHOST</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nv">NEW_SUBDOMAIN</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$SUBDOMAIN</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>rev<span class="sb">`</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$NEW_SUBDOMAIN</span><span class="s2">.</span><span class="nv">$VHOST</span><span class="s2">&quot;</span>
</code></pre></div>
<h2 id="available-plugin-triggers">Available plugin triggers<a class="headerlink" href="#available-plugin-triggers" title="Permanent link">&para;</a></h2>
<p>There are a number of plugin-related triggers. These can be optionally implemented by plugins and allow integration into the standard Dokku setup/teardown process.</p>
<p>The following plugin triggers describe those available to a Dokku installation. As well, there is an example for each trigger that you can use as templates for your own plugin development.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The example plugin trigger code is not guaranteed to be implemented as in within dokku, and are merely simplified examples. Please look at the Dokku source for larger, more in-depth examples.</p>
</div>
<h3 id="app-create"><code>app-create</code><a class="headerlink" href="#app-create" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Creates an app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-destroy"><code>app-destroy</code><a class="headerlink" href="#app-destroy" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Destroys an app (with confirmation if force isn't specified)</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-exists"><code>app-exists</code><a class="headerlink" href="#app-exists" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks if an app exists</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-list"><code>app-list</code><a class="headerlink" href="#app-list" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Lists all apps in available to the currently logged in user. Optionally disables filtering by user if the first argument is <code>false</code>.</li>
<li>Invoked by:</li>
<li>Arguments: <code>$FILTER</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-json-process-deploy-parallelism"><code>app-json-process-deploy-parallelism</code><a class="headerlink" href="#app-json-process-deploy-parallelism" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Decides the parallelism to use when deploying a given process type. The default is 1 process entry at a type.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $PROCESS_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-json-get-content"><code>app-json-get-content</code><a class="headerlink" href="#app-json-get-content" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Outputs the contents of the app-json file, if any</li>
<li>Invoked by: Deployment checks</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-json-is-valid"><code>app-json-is-valid</code><a class="headerlink" href="#app-json-is-valid" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks to see if the provided app.json file is valid</li>
<li>Invoked by: Appjson extraction during deployment</li>
<li>Arguments: <code>$APP $APP_JSON_PATH</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-maybe-create"><code>app-maybe-create</code><a class="headerlink" href="#app-maybe-create" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Creates an app (gated by whether this is globally enabled or not)</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-restart"><code>app-restart</code><a class="headerlink" href="#app-restart" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Triggers an app restart</li>
<li>Invoked by: <code>dokku config:clear</code>, <code>dokku config:set</code>, <code>dokku config:unset</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="app-urls"><code>app-urls</code><a class="headerlink" href="#app-urls" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to change the urls Dokku reports for an application. Will override any auto-detected urls.</li>
<li>Invoked by: <code>dokku deploy</code>, <code>dokku url</code>, and <code>dokku urls</code></li>
<li>Arguments: <code>$APP $URL_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c1"># Sets the domain to `internal.tld`</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">URL_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$URL_TYPE</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span>url<span class="o">)</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;https://internal.tld/</span><span class="si">${</span><span class="nv">APP</span><span class="si">}</span><span class="s2">/&quot;</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">  </span>urls<span class="o">)</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;https://internal.tld/</span><span class="si">${</span><span class="nv">APP</span><span class="si">}</span><span class="s2">/&quot;</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;http://internal.tld/</span><span class="si">${</span><span class="nv">APP</span><span class="si">}</span><span class="s2">/&quot;</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="k">esac</span>
</code></pre></div>
<h3 id="builder-build"><code>builder-build</code><a class="headerlink" href="#builder-build" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Triggers the artifact build process</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$BUILDER_TYPE</code> <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="builder-create-dokku-image"><code>builder-create-dokku-image</code><a class="headerlink" href="#builder-create-dokku-image" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows modification of the configured dokku-image</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$BUILDER_TYPE</code> <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code> <code>$DOKKU_IMAGE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="builder-detect"><code>builder-detect</code><a class="headerlink" href="#builder-detect" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows overriding the auto-detected <code>herokuish</code> builder in favor of a custom one. Dockerfile gets lowest builder precedence.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">SOURCECODE_WORK_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SOURCECODE_WORK_DIR</span><span class="s2">/project.toml&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">  </span><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;pack&quot;</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="k">fi</span>
</code></pre></div>
<h3 id="builder-dokku-image"><code>builder-dokku-image</code><a class="headerlink" href="#builder-dokku-image" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows modification of the used dokku-image.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$BUILDER_TYPE</code> <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code> <code>$DOKKU_IMAGE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="builder-get-property"><code>builder-get-property</code><a class="headerlink" href="#builder-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the value for an app's builder property</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROPERTY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="builder-herokuish-allowed"><code>builder-herokuish-allowed</code><a class="headerlink" href="#builder-herokuish-allowed" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks if herokuish is allowed to run on non-amd64 hosts</li>
<li>Invoked by: unit tests</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="builder-image-is-cnb"><code>builder-image-is-cnb</code><a class="headerlink" href="#builder-image-is-cnb" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks if an image is cnb-based</li>
<li>Invoked by: unit tests</li>
<li>Arguments: <code>$APP</code> <code>$IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="builder-image-is-herokuish"><code>builder-image-is-herokuish</code><a class="headerlink" href="#builder-image-is-herokuish" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks if an image is herokuish-based</li>
<li>Invoked by: unit tests</li>
<li>Arguments: <code>$APP</code> <code>$IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="builder-release"><code>builder-release</code><a class="headerlink" href="#builder-release" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Triggers the artifact release process</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$BUILDER_TYPE</code> <code>$APP</code> <code>$IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="buildpack-stack-name"><code>buildpack-stack-name</code><a class="headerlink" href="#buildpack-stack-name" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Retrieves the configured buildpack stack for the pack and herokuish builders</li>
<li>Invoked by: builder-herokuish and builder-pack</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="caddy-template-source"><code>caddy-template-source</code><a class="headerlink" href="#caddy-template-source" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Retrieves an alternative template for the caddy compose config</li>
<li>Invoked by: caddy-vhosts</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="certs-exists"><code>certs-exists</code><a class="headerlink" href="#certs-exists" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Echos <code>true</code> if certs exists for the app, <code>false</code> otherwise</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="certs-force"><code>certs-force</code><a class="headerlink" href="#certs-force" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Echos <code>true</code> if a cert should be simulated for the app, no output otherwise</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="certs-get"><code>certs-get</code><a class="headerlink" href="#certs-get" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Returns the certificate or key content for an app</li>
<li>Invoked by: <code>scheduler-k3s</code></li>
<li>Arguments: <code>$APP $KEY_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c1"># Returns the certificate or key content for an app</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c1"># KEY_TYPE should be &quot;crt&quot; or &quot;key&quot;</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">KEY_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="nv">APP_SSL_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$DOKKU_ROOT</span><span class="s2">/</span><span class="nv">$APP</span><span class="s2">/tls&quot;</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$KEY_TYPE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;crt&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">  </span>cat<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$APP_SSL_PATH</span><span class="s2">/server.crt&quot;</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="k">elif</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$KEY_TYPE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;key&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">  </span>cat<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$APP_SSL_PATH</span><span class="s2">/server.key&quot;</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="k">fi</span>
</code></pre></div>
<h3 id="check-deploy"><code>check-deploy</code><a class="headerlink" href="#check-deploy" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run checks on a deploy before Dokku allows the container to handle requests.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $CONTAINER_ID $PROC_TYPE $PORT $IP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="c1"># Disables deploys of containers based on whether the</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="c1"># `DOKKU_DISABLE_DEPLOY` env var is set to `true` for an app</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_AVAILABLE_PATH</span><span class="s2">/config/functions&quot;</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">CONTAINER_ID</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROC_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PORT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$4</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nv">IP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$5</span><span class="s2">&quot;</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>config_export<span class="w"> </span>app<span class="w"> </span><span class="nv">$APP</span><span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="nv">DOKKU_DISABLE_DEPLOY</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOKKU_DISABLE_DEPLOY</span><span class="k">:-</span><span class="nv">false</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DOKKU_DISABLE_DEPLOY</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">  </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\033[31m\033[1mDeploys disabled, sorry.\033[0m&quot;</span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="k">fi</span>
</code></pre></div>
<h3 id="checks-get-property"><code>checks-get-property</code><a class="headerlink" href="#checks-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the value for an app's checks property</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROPERTY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="commands-help-and-commands-plugin_namehelp"><code>commands help</code> and <code>commands &lt;PLUGIN_NAME&gt;:help</code><a class="headerlink" href="#commands-help-and-commands-plugin_namehelp" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Your plugin should implement a <code>help</code> command in your <code>commands</code> file to take advantage of this plugin trigger. <code>commands help</code> is used by <code>dokku help</code> to aggregate all plugins abbreviated <code>help</code> output. Implementing  <code>&lt;PLUGIN_NAME&gt;:help</code> in your <code>commands</code> file gives users looking for help, a more detailed output. 'commands help' must be implemented inside the <code>commands</code> plugin file. It's recommended that <code>PLUGIN_NAME:help</code> be added to the commands file to ensure consistency among community plugins and give you a new avenue to share rich help content with your user.</li>
<li>Invoked by: <code>dokku help</code> and <code>commands &lt;PLUGIN_NAME&gt;:help</code></li>
<li>Arguments: None</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="c1"># Outputs help for the derp plugin</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">  </span><span class="nb">help</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>hello:help<span class="o">)</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">    </span>help_content_func<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">      </span><span class="nb">declare</span><span class="w"> </span><span class="nv">desc</span><span class="o">=</span><span class="s2">&quot;return help_content string&quot;</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">      </span>cat<span class="s">&lt;&lt;help_content</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="s">    hello &lt;app&gt;, Says &quot;Hello &lt;app&gt;&quot;</span>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="s">    hello:world, Says &quot;Hello world&quot;</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="s">help_content</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello:help&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;Usage: dokku hello[:world] [&lt;app&gt;]&#39;</span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Say Hello World.&#39;</span>
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Example:&#39;</span>
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;$ dokku hello:world&#39;</span>
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hello world&#39;</span>
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Additional commands:&#39;</span>
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="w">        </span>help_content_func<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>column<span class="w"> </span>-c2<span class="w"> </span>-t<span class="w"> </span>-s,
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="w">        </span>help_content_func
<a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a><span class="w">    </span><span class="k">fi</span>
<a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a>
<a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a><span class="w">  </span>*<span class="o">)</span>
<a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="nv">$DOKKU_NOT_IMPLEMENTED_EXIT</span>
<a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a>
<a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a><span class="k">esac</span>
</code></pre></div>
<h3 id="config-export"><code>config-export</code><a class="headerlink" href="#config-export" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Returns the environment variables in a specified format</li>
<li>Invoked by: app-json plugin</li>
<li>Arguments: <code>$APP $GLOBAL $MERGED $FORMAT</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="config-get"><code>config-get</code><a class="headerlink" href="#config-get" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Fetches the app config value for a key</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="config-get-global"><code>config-get-global</code><a class="headerlink" href="#config-get-global" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Fetches the global config value for a key</li>
<li>Invoked by:</li>
<li>Arguments: <code>$KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="core-post-deploy"><code>core-post-deploy</code><a class="headerlink" href="#core-post-deploy" title="Permanent link">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To avoid issues with community plugins, this plugin trigger should be used <em>only</em> for core plugins. Please avoid using this trigger in your own plugins.</p>
</div>
<ul>
<li>Description: Allows running of commands after an app's processes have been scaled up, but before old containers are torn down. Dokku core currently uses this to switch traffic on nginx.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $INTERNAL_PORT $INTERNAL_IP_ADDRESS $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="c1"># Notify an external service that a successful deploy has occurred.</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>curl<span class="w"> </span><span class="s2">&quot;http://httpstat.us/200&quot;</span>
</code></pre></div>
<h3 id="core-post-extract"><code>core-post-extract</code><a class="headerlink" href="#core-post-extract" title="Permanent link">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To avoid issues with community plugins, this plugin trigger should be used <em>only</em> for core plugins. Please avoid using this trigger in your own plugins.</p>
</div>
<ul>
<li>Description: Allows you to modify the contents of an app <em>after</em> it has been extracted from git but <em>before</em> the image source type is detected.</li>
<li>Invoked by: The <code>receive-app</code> plugin trigger</li>
<li>Arguments: <code>$APP</code> <code>$TMP_WORK_DIR</code> <code>$REV</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="c1"># Adds a clock process to an app&#39;s Procfile</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="nv">TMP_WORK_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="nv">REV</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># optional, may not be sent for tar-based builds</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="nb">pushd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$TMP_WORK_DIR</span><span class="s2">&quot;</span><span class="w"> </span>&gt;/dev/null
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>touch<span class="w"> </span>Procfile
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;clock: some-command&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Procfile
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="nb">popd</span><span class="w"> </span><span class="p">&amp;</span>&gt;/dev/null
</code></pre></div>
<h3 id="cron-get-property"><code>cron-get-property</code><a class="headerlink" href="#cron-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the value for an app's cron property</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROPERTY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="cron-entries"><code>cron-entries</code><a class="headerlink" href="#cron-entries" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows injecting cron tasks into the written out scheduled cron task list. Each entry is newline delimited, and individual tasks come in the form <code>$SCHEDULE;$FULL_COMMAND;$ARBITRARY_DATA</code>. Individual implementations of cron writing can decide whether and how to include these cron tasks. The <code>ARBITRARY_DATA</code> includes the log file path for the basic <code>docker-local</code> cron implementation.</li>
<li>Invoked by:</li>
<li>Arguments: <code>$DOKKU_SCHEDULER</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="dependencies"><code>dependencies</code><a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Used to install system-level dependencies.</li>
<li>Invoked by: <code>dokku plugin:install-dependencies</code></li>
<li>Arguments: None</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="c1"># Installs nginx for the current plugin</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DOKKU_DISTRO</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">  </span>debian<span class="p">|</span>raspbian<span class="p">|</span>ubuntu<span class="o">)</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">    </span>apt-get<span class="w"> </span>-qq<span class="w"> </span>-y<span class="w"> </span>--no-install-recommends<span class="w"> </span>install<span class="w"> </span>nginx
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">  </span>*<span class="o">)</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installation on </span><span class="nv">$DOKKU_DISTRO</span><span class="s2"> not supported&quot;</span><span class="w"> </span><span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="k">esac</span>
</code></pre></div>
<h3 id="deploy"><code>deploy</code><a class="headerlink" href="#deploy" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Triggers a deploy for the given app. Can override the image tag to deploy, as well as specify a single process type to deploy.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP [$IMAGE_TAG] [$PROC_TYPE]</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">PROC_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="deployed-app-image-repo"><code>deployed-app-image-repo</code><a class="headerlink" href="#deployed-app-image-repo" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Used to manage the full repo of the image being deployed. Useful for deploying from an external registry where the repository name is not <code>dokku/$APP</code></li>
<li>Invoked by: <code>internal function dokku_deploy_cmd() (deploy phase)</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="c1"># change the repo from dokku/APP to dokkupaas/APP</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;dokkupaas/</span><span class="nv">$APP</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="deployed-app-image-tag"><code>deployed-app-image-tag</code><a class="headerlink" href="#deployed-app-image-tag" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Used to manage the tag of the image being deployed. Useful for deploying a specific version of an image, or when deploying from an external registry</li>
<li>Invoked by: <code>internal function dokku_deploy_cmd() (deploy phase)</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="c1"># customize the tag version</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;not-latest&#39;</span>
</code></pre></div>
<h3 id="deployed-app-repository"><code>deployed-app-repository</code><a class="headerlink" href="#deployed-app-repository" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Used to manage the remote repository of the image being deployed.</li>
<li>Invoked by: <code>internal function dokku_deploy_cmd() (deploy phase)</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;derp.dkr.ecr.us-east-1.amazonaws.com&#39;</span>
</code></pre></div>
<h3 id="deploy-source-set"><code>deploy-source-set</code><a class="headerlink" href="#deploy-source-set" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Used to set metadata about how the app is being deployed</li>
<li>Invoked by: <code>git:from-archive</code>, <code>git:from-image</code>, <code>git:load-image</code>, <code>git:sync</code>, and all git push commands</li>
<li>Arguments: <code>$APP $SOURCE_TYPE $METADATA</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="docker-args-build"><code>docker-args-build</code><a class="headerlink" href="#docker-args-build" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>docker-args-process-build</code> instead</p>
</div>
<ul>
<li>Description:</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP $IMAGE_SOURCE_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="c1"># Sets a docker build-arg called CACHEBUST which can be used</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="c1"># to bust cache at any arbitrary point in a Dockerfile build</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="nv">STDIN</span><span class="o">=</span><span class="k">$(</span>cat<span class="k">)</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_SOURCE_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IMAGE_SOURCE_TYPE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;dockerfile&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">  </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot; --build-arg CACHEBUST=</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="k">fi</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$STDIN$output</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="docker-args-deploy"><code>docker-args-deploy</code><a class="headerlink" href="#docker-args-deploy" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>docker-args-process-deploy</code> instead</p>
</div>
<ul>
<li>Description:</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG [$PROC_TYPE $CONTAINER_INDEX]</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="docker-args-process-build"><code>docker-args-process-build</code><a class="headerlink" href="#docker-args-process-build" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: <code>$PROC_TYPE</code> may be set to magic <code>_all_</code> process type to signify global docker deploy options.</li>
<li>Invoked by: <code>dokku ps:rebuild</code></li>
<li>Arguments: <code>$APP $IMAGE_SOURCE_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_SOURCE_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="docker-args-process-deploy"><code>docker-args-process-deploy</code><a class="headerlink" href="#docker-args-process-deploy" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: <code>$PROC_TYPE</code> may be set to magic <code>_all_</code> process type to signify global docker deploy options.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $IMAGE_SOURCE_TYPE $IMAGE_TAG [$PROC_TYPE $CONTAINER_INDEX]</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">$IMAGE_SOURCE_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROC_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$4</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">CONTAINER_INDEX</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$5</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="docker-args-process-run"><code>docker-args-process-run</code><a class="headerlink" href="#docker-args-process-run" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: <code>$PROC_TYPE</code> may be set to magic <code>_all_</code> process type to signify global docker run options.</li>
<li>Invoked by: <code>dokku run</code></li>
<li>Arguments: <code>$APP $IMAGE_SOURCE_TYPE $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_SOURCE_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="docker-args-run"><code>docker-args-run</code><a class="headerlink" href="#docker-args-run" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>docker-args-process-run</code> instead</p>
</div>
<ul>
<li>Description:</li>
<li>Invoked by: <code>dokku run</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="domains-add"><code>domains-add</code><a class="headerlink" href="#domains-add" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Adds a domain to an app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code> <code>$DOMAIN</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="domains-disable"><code>domains-disable</code><a class="headerlink" href="#domains-disable" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Disables domains for an app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code> <code>$RESTART_APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="domains-enable"><code>domains-enable</code><a class="headerlink" href="#domains-enable" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Enables domains for an app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code> <code>$RESTART_APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="domains-list"><code>domains-list</code><a class="headerlink" href="#domains-list" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Lists all domains for an app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="domains-urls"><code>domains-urls</code><a class="headerlink" href="#domains-urls" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Gets an app's url(s)</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $URL_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="domains-vhost-enabled"><code>domains-vhost-enabled</code><a class="headerlink" href="#domains-vhost-enabled" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks if a virtual hosts are enabled for an app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-deploy-branch"><code>git-deploy-branch</code><a class="headerlink" href="#git-deploy-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Outputs the deploy branch for an app, inherited or not</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-get-property"><code>git-get-property</code><a class="headerlink" href="#git-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the value for an app's git property</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROPERTY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-from-archive"><code>git-from-archive</code><a class="headerlink" href="#git-from-archive" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Updates an app's git repository from an archive and then triggers a build</li>
<li>Invoked by: <code>git:from-archive</code></li>
<li>Arguments: <code>$APP $ARCHIVE_URL $ARCHIVE_TYPE $USER_NAME $USER_EMAIL</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-from-directory"><code>git-from-directory</code><a class="headerlink" href="#git-from-directory" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Updates an app's git repository from a source directory and then triggers a build</li>
<li>Invoked by: <code>git:from-image</code> and <code>git:from-archive</code></li>
<li>Arguments: <code>$APP $SOURCECODE_WORK_DIR $USER_NAME $USER_EMAIL</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-from-image"><code>git-from-image</code><a class="headerlink" href="#git-from-image" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Updates an app's git repository from a docker image and then triggers a build as necessary</li>
<li>Invoked by: <code>git:from-image</code></li>
<li>Arguments: <code>$APP $DOCKER_IMAGE $BUILD_DIR $USER_NAME $USER_EMAIL</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-has-code"><code>git-has-code</code><a class="headerlink" href="#git-has-code" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks to see if there is code at the specified branch</li>
<li>Arguments: <code>$APP $BRANCH_NAME</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-post-pull"><code>git-post-pull</code><a class="headerlink" href="#git-post-pull" title="Permanent link">&para;</a></h3>
<ul>
<li>Description:</li>
<li>Invoked by: <code>dokku git-upload-pack</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="git-pre-pull"><code>git-pre-pull</code><a class="headerlink" href="#git-pre-pull" title="Permanent link">&para;</a></h3>
<ul>
<li>Description:</li>
<li>Invoked by: <code>dokku git-upload-pack</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code>git-pre-pull</code> trigger should <em>not</em> be used for authentication since it does not get called for commands that use <code>git-upload-archive</code> such as <code>git archive</code>. Instead, use the <a href="#user-auth"><code>user-auth</code></a> trigger.</p>
</div>
<h3 id="git-revision"><code>git-revision</code><a class="headerlink" href="#git-revision" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to fetch the current git revision for a given application</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="install"><code>install</code><a class="headerlink" href="#install" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Used to setup any files/configuration for a plugin.</li>
<li>Invoked by: <code>dokku plugin:install</code>.</li>
<li>Arguments: None</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="c1"># Sets the hostname of the Dokku server</span>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="c1"># based on the output of `hostname -f`</span>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a>
<a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w">  </span><span class="s2">&quot;</span><span class="nv">$DOKKU_ROOT</span><span class="s2">/VHOST&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="w">  </span>hostname<span class="w"> </span>-f<span class="w"> </span>&gt;<span class="w"> </span><span class="nv">$DOKKU_ROOT</span>/VHOST
<a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="k">fi</span>
</code></pre></div>
<h3 id="haproxy-template-source"><code>haproxy-template-source</code><a class="headerlink" href="#haproxy-template-source" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Retrieves an alternative template for the haproxy compose config</li>
<li>Invoked by: haproxy-vhosts</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a>
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="logs-get-property"><code>logs-get-property</code><a class="headerlink" href="#logs-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the value for an app's log property</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROPERTY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a>
<a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-build-config"><code>network-build-config</code><a class="headerlink" href="#network-build-config" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Rebuilds network configuration</li>
<li>Invoked by: <code>internally triggered by proxy-build-config within proxy implementations</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a>
<a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-clear-config"><code>network-clear-config</code><a class="headerlink" href="#network-clear-config" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Clears network configuration</li>
<li>Invoked by: <code>internally triggered within proxy implementations</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a>
<a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-config-exists"><code>network-config-exists</code><a class="headerlink" href="#network-config-exists" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Returns whether the network configuration for a given app exists</li>
<li>Invoked by: <code>internally triggered by core-post-deploy within proxy implementations</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a>
<a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-get-ipaddr"><code>network-get-ipaddr</code><a class="headerlink" href="#network-get-ipaddr" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the ipaddr for a given app container</li>
<li>Invoked by: <code>internally triggered by a deploy</code></li>
<li>Arguments: <code>$APP $PROC_TYPE $CONTAINER_ID</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-get-listeners"><code>network-get-listeners</code><a class="headerlink" href="#network-get-listeners" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the listeners (host:port combinations) for a given app container</li>
<li>Invoked by: <code>internally triggered by a deploy</code></li>
<li>Arguments: <code>$APP $PROCESS_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-get-property"><code>network-get-property</code><a class="headerlink" href="#network-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the value for an app's network property</li>
<li>Invoked by: <code>internally triggered by a deploy</code></li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-get-static-listeners"><code>network-get-static-listeners</code><a class="headerlink" href="#network-get-static-listeners" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the network value for an app's property</li>
<li>Invoked by: <code>internally triggered by proxy-build-config</code></li>
<li>Arguments: <code>$APP $PROCESS_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-write-ipaddr"><code>network-write-ipaddr</code><a class="headerlink" href="#network-write-ipaddr" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Write the ipaddr for a given app index</li>
<li>Invoked by: <code>internally triggered by a deploy</code></li>
<li>Arguments: <code>$APP $PROC_TYPE $CONTAINER_INDEX $IP_ADDRESS</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="network-write-port"><code>network-write-port</code><a class="headerlink" href="#network-write-port" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Write the port for a given app index</li>
<li>Invoked by: <code>internally triggered by a deploy</code></li>
<li>Arguments: <code>$APP $PROC_TYPE $CONTAINER_INDEX $PORT</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a>
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="nginx-app-template-source"><code>nginx-app-template-source</code><a class="headerlink" href="#nginx-app-template-source" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the path to a <code>sigil</code> template that should be used to generate a given nginx configuration file.</li>
<li>Invoked by: <code>nginx-vhosts#build-config</code></li>
<li>Arguments: <code>$APP $TEMPLATE_TYPE</code><ul>
<li>The <code>TEMPLATE_TYPE</code> argument can be one of: <code>[app-config, hsts-config, validate-config]</code></li>
</ul>
</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a>
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a>
<a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="nv">TEMPLATE_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$TEMPLATE_TYPE</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="w">  </span>app-config<span class="o">)</span>
<a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/app.conf.sigil&quot;</span><span class="p">;;</span>
<a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="w">  </span>hsts-config<span class="o">)</span>
<a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/hsts.conf.sigil&quot;</span><span class="p">;;</span>
<a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a><span class="w">  </span>validate-config<span class="o">)</span>
<a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/validate.conf.sigil&quot;</span><span class="p">;;</span>
<a id="__codelineno-74-15" name="__codelineno-74-15" href="#__codelineno-74-15"></a><span class="w">  </span>*<span class="o">)</span>
<a id="__codelineno-74-16" name="__codelineno-74-16" href="#__codelineno-74-16"></a><span class="w">    </span>dokku_log_fail<span class="w"> </span><span class="s2">&quot;Invalid template type: </span><span class="si">${</span><span class="nv">TEMPLATE_TYPE</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-74-17" name="__codelineno-74-17" href="#__codelineno-74-17"></a><span class="k">esac</span>
</code></pre></div>
<p>The default templates are viewable here: <a href="https://github.com/dokku/dokku/tree/master/plugins/nginx-vhosts/templates">plugins/nginx-vhosts/templates/</a></p>
<h3 id="nginx-dokku-template-source"><code>nginx-dokku-template-source</code><a class="headerlink" href="#nginx-dokku-template-source" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the path to a <code>sigil</code> template that should be used to generate the <code>dokku.conf</code> nginx configuration file.</li>
<li>Invoked by: <code>nginx-vhosts#install</code></li>
<li>Arguments: None, however the <code>sigil</code> template can make use of the following variables: <code>$.DOKKU_ROOT $.NGINX_ROOT</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/dokku.conf.sigil&quot;</span>
</code></pre></div>
<p>The default template is viewable here: <a href="https://github.com/dokku/dokku/blob/master/plugins/nginx-vhosts/templates/dokku.conf.sigil">plugins/nginx-vhosts/templates/dokku.conf.sigil</a></p>
<h3 id="nginx-hostname"><code>nginx-hostname</code><a class="headerlink" href="#nginx-hostname" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to customize the hostname for a given app</li>
<li>Invoked by: <code>dokku domains:setup</code></li>
<li>Arguments: <code>$APP $SUBDOMAIN $VHOST</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="c1"># Reverses the hostname for the app</span>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>
<a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a>
<a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">SUBDOMAIN</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">VHOST</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span>
<a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a>
<a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="nv">NEW_SUBDOMAIN</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$SUBDOMAIN</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>rev<span class="sb">`</span>
<a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$NEW_SUBDOMAIN</span><span class="s2">.</span><span class="nv">$VHOST</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="nginx-pre-reload"><code>nginx-pre-reload</code><a class="headerlink" href="#nginx-pre-reload" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The arguments INTERNAL_PORT and INTERNAL_IP_ADDRESS are no longer sufficient to retrieve all app listeners. Please run <code>plugn trigger network-get-listeners APP</code> within any implementation of <code>nginx-pre-reload</code> in order to retrieve all application listeners.</p>
</div>
<ul>
<li>Description: Run before nginx reloads hosts</li>
<li>Invoked by: <code>dokku proxy:build-config</code></li>
<li>Arguments: <code>$APP $INTERNAL_PORT $INTERNAL_IP_ADDRESS</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="c1"># Runs a check against all nginx conf files</span>
<a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="c1"># to ensure they are valid</span>
<a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a>
<a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a>
<a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a>nginx<span class="w"> </span>-t
</code></pre></div>
<h3 id="openresty-template-source"><code>openresty-template-source</code><a class="headerlink" href="#openresty-template-source" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Retrieves an alternative template for the openresty compose config</li>
<li>Invoked by: openresty-vhosts</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a>
<a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a>
<a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ports-clear"><code>ports-clear</code><a class="headerlink" href="#ports-clear" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Clears the ports for a given app without triggering further restarts or rebuilds</li>
<li>Invoked by: internally</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a>
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ports-configure"><code>ports-configure</code><a class="headerlink" href="#ports-configure" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Configures the initial proxy ports</li>
<li>Invoked by: <code>internally triggered by proxy plugins</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a>
<a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ports-get"><code>ports-get</code><a class="headerlink" href="#ports-get" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Returns a list of port mappings, newline delimited</li>
<li>Invoked by: Various networking plugins</li>
<li>Arguments: <code>$APP $FORMAT</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a>
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ports-get-available"><code>ports-get-available</code><a class="headerlink" href="#ports-get-available" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Prints out an available port greater than 1024</li>
<li>Invoked by: Various networking plugins</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a>
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a>
<a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ports-get-property"><code>ports-get-property</code><a class="headerlink" href="#ports-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Return the value for an app's ports property</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $KEY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a>
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROPERTY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a>
<a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ports-set-detected"><code>ports-set-detected</code><a class="headerlink" href="#ports-set-detected" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows builders to specify detected port mappings for a given app</li>
<li>Invoked by: Builder plugins</li>
<li>Arguments: <code>$APP [$PORT_MAPPING...]</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a>
<a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-app-clone"><code>post-app-clone</code><a class="headerlink" href="#post-app-clone" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after an app was cloned.</li>
<li>Invoked by: <code>dokku apps:clone</code></li>
<li>Arguments: <code>$OLD_APP_NAME $NEW_APP_NAME</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a>
<a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a>
<a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-app-clone-setup"><code>post-app-clone-setup</code><a class="headerlink" href="#post-app-clone-setup" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after an app is setup, and before it is rebuild. This is useful for cleaning up tasks, or ensuring configuration from an old app is copied to the new app</li>
<li>Invoked by: <code>dokku apps:clone</code></li>
<li>Arguments: <code>$OLD_APP_NAME $NEW_APP_NAME</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a>
<a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a>
<a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-app-rename"><code>post-app-rename</code><a class="headerlink" href="#post-app-rename" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after an app was renamed.</li>
<li>Invoked by: <code>dokku apps:rename</code></li>
<li>Arguments: <code>$OLD_APP_NAME $NEW_APP_NAME</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a>
<a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a>
<a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-app-rename-setup"><code>post-app-rename-setup</code><a class="headerlink" href="#post-app-rename-setup" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after an app is setup, and before it is rebuild. This is useful for cleaning up tasks, or ensuring configuration from an old app is copied to the new app</li>
<li>Invoked by: <code>dokku apps:rename</code></li>
<li>Arguments: <code>$OLD_APP_NAME $NEW_APP_NAME</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a>
<a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a>
<a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-build"><code>post-build</code><a class="headerlink" href="#post-build" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after the build image is create for a given app.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$BUILDER_TYPE $APP $SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a>
<a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a>
<a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-build-buildpack"><code>post-build-buildpack</code><a class="headerlink" href="#post-build-buildpack" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>post-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands after the build image is create for a given app. Only applies to apps using buildpacks.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a>
<a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a>
<a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-build-dockerfile"><code>post-build-dockerfile</code><a class="headerlink" href="#post-build-dockerfile" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>post-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands after the build image is create for a given app. Only applies to apps using a dockerfile.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a>
<a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a>
<a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-build-lambda"><code>post-build-lambda</code><a class="headerlink" href="#post-build-lambda" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>post-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands after the build image is create for a given app. Only applies to apps using lambda.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a>
<a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a>
<a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-build-pack"><code>post-build-pack</code><a class="headerlink" href="#post-build-pack" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>post-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands after the build image is create for a given app. Only applies to apps using pack.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a>
<a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a>
<a id="__codelineno-93-5" name="__codelineno-93-5" href="#__codelineno-93-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-certs-remove"><code>post-certs-remove</code><a class="headerlink" href="#post-certs-remove" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after a cert is removed</li>
<li>Invoked by: <code>dokku certs:remove</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a>
<a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-94-6" name="__codelineno-94-6" href="#__codelineno-94-6"></a>
<a id="__codelineno-94-7" name="__codelineno-94-7" href="#__codelineno-94-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-certs-update"><code>post-certs-update</code><a class="headerlink" href="#post-certs-update" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after a cert is added/updated</li>
<li>Invoked by: <code>dokku certs:add</code>, <code>dokku certs:update</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a>
<a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a>
<a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-config-update"><code>post-config-update</code><a class="headerlink" href="#post-config-update" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to get notified when one or more configs is added or removed. Action can be <code>set</code> or <code>unset</code>.</li>
<li>Invoked by: <code>dokku config:set</code>, <code>dokku config:unset</code></li>
<li>Arguments: <code>$APP</code> <code>set|unset</code> <code>key1=VALUE1 key2=VALUE2</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a>
<a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a>
<a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-container-create"><code>post-container-create</code><a class="headerlink" href="#post-container-create" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: This trigger should be used to do stuff to containers after they are created but before they are started. They are explicitly for commands that may involve network traffic, and <em>not</em> for commands that are self-contained, such as chown or tar.</li>
<li>Invoked by: <code>dokku run</code>, <code>dokku ps:rebuild</code>, <code>dokku deploy</code></li>
<li>Arguments: "app|service" "$CONTAINER_ID" "$APP|$SERVICE" "$PHASE"</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a>
<a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a>
<a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-create"><code>post-create</code><a class="headerlink" href="#post-create" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Can be used to run commands after an app is created.</li>
<li>Invoked by: <code>dokku apps:create</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="c1"># Runs a command to ensure that an app</span>
<a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="c1"># has a postgres database when it is starting</span>
<a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a>
<a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a>
<a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-98-8" name="__codelineno-98-8" href="#__codelineno-98-8"></a><span class="nv">POSTGRES</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-98-9" name="__codelineno-98-9" href="#__codelineno-98-9"></a>
<a id="__codelineno-98-10" name="__codelineno-98-10" href="#__codelineno-98-10"></a>dokku<span class="w"> </span>postgres:create<span class="w"> </span><span class="nv">$POSTGRES</span>
<a id="__codelineno-98-11" name="__codelineno-98-11" href="#__codelineno-98-11"></a>dokku<span class="w"> </span>postgres:link<span class="w"> </span><span class="nv">$POSTGRES</span><span class="w"> </span><span class="nv">$APP</span>
</code></pre></div>
<h3 id="post-delete"><code>post-delete</code><a class="headerlink" href="#post-delete" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Can be used to run commands after an app is deleted.</li>
<li>Invoked by: <code>dokku apps:destroy</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="c1"># Runs a command to ensure that an app&#39;s</span>
<a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="c1"># postgres installation is removed</span>
<a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a>
<a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a>
<a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-99-8" name="__codelineno-99-8" href="#__codelineno-99-8"></a>
<a id="__codelineno-99-9" name="__codelineno-99-9" href="#__codelineno-99-9"></a>dokku<span class="w"> </span>postgres:destroy<span class="w"> </span><span class="nv">$APP</span>
</code></pre></div>
<h3 id="post-deploy"><code>post-deploy</code><a class="headerlink" href="#post-deploy" title="Permanent link">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Please see <a href="#core-post-deploy">core-post-deploy</a> if contributing a core plugin with the <code>post-deploy</code> hook.</p>
</div>
<ul>
<li>Description: Allows running of commands after an app's processes have been scaled up, but before old containers are torn down. Dokku calls this <em>after</em> <code>core-post-deploy</code>. Deployment Tasks are also invoked by this plugin trigger.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $INTERNAL_PORT $INTERNAL_IP_ADDRESS $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="c1"># Notify an external service that a successful deploy has occurred.</span>
<a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a>
<a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a>
<a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a>curl<span class="w"> </span><span class="s2">&quot;http://httpstat.us/200&quot;</span>
</code></pre></div>
<h3 id="post-domains-update"><code>post-domains-update</code><a class="headerlink" href="#post-domains-update" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands once the domain for an app has been updated. It also sends in the command that has been used. This can be "add", "clear" or "remove". The third argument will be the optional list of domains</li>
<li>Invoked by: <code>dokku domains:add</code>, <code>dokku domains:clear</code>, <code>dokku domains:remove</code>, <code>dokku domains:reset</code>, <code>dokku domains:set</code></li>
<li>Arguments: <code>$APP</code> <code>action name</code> <code>domains</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="c1"># Reloads haproxy for our imaginary haproxy plugin</span>
<a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="c1"># that replaces the nginx-vhosts plugin</span>
<a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a>
<a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a>
<a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a>sudo<span class="w"> </span>service<span class="w"> </span>haproxy<span class="w"> </span>reload
</code></pre></div>
<h3 id="post-extract"><code>post-extract</code><a class="headerlink" href="#post-extract" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to modify the contents of an app <em>after</em> it has been extracted from git but <em>before</em> the image source type is detected.</li>
<li>Invoked by: The <code>receive-app</code> plugin trigger</li>
<li>Arguments: <code>$APP</code> <code>$TMP_WORK_DIR</code> <code>$REV</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a><span class="c1"># Adds a clock process to an app&#39;s Procfile</span>
<a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a>
<a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-102-6" name="__codelineno-102-6" href="#__codelineno-102-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-102-7" name="__codelineno-102-7" href="#__codelineno-102-7"></a><span class="nv">TMP_WORK_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-102-8" name="__codelineno-102-8" href="#__codelineno-102-8"></a><span class="nv">REV</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># optional, may not be sent for tar-based builds</span>
<a id="__codelineno-102-9" name="__codelineno-102-9" href="#__codelineno-102-9"></a>
<a id="__codelineno-102-10" name="__codelineno-102-10" href="#__codelineno-102-10"></a><span class="nb">pushd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$TMP_WORK_DIR</span><span class="s2">&quot;</span><span class="w"> </span>&gt;/dev/null
<a id="__codelineno-102-11" name="__codelineno-102-11" href="#__codelineno-102-11"></a>touch<span class="w"> </span>Procfile
<a id="__codelineno-102-12" name="__codelineno-102-12" href="#__codelineno-102-12"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;clock: some-command&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Procfile
<a id="__codelineno-102-13" name="__codelineno-102-13" href="#__codelineno-102-13"></a><span class="nb">popd</span><span class="w"> </span><span class="p">&amp;</span>&gt;/dev/null
</code></pre></div>
<h3 id="post-proxy-ports-update"><code>post-proxy-ports-update</code><a class="headerlink" href="#post-proxy-ports-update" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands once the port mappings for an app have been updated. It also sends the invoking command. This can be "add", "clear" or "remove".</li>
<li>Invoked by: <code>dokku ports:add</code>, <code>dokku ports:clear</code>, <code>dokku ports:remove</code></li>
<li>Arguments: <code>$APP</code> <code>action name</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="c1"># Rebuilds haproxy config for our imaginary haproxy plugin</span>
<a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="c1"># that replaces the nginx-vhosts plugin</span>
<a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a>
<a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-103-6" name="__codelineno-103-6" href="#__codelineno-103-6"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-103-7" name="__codelineno-103-7" href="#__codelineno-103-7"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_AVAILABLE_PATH</span><span class="s2">/haproxy/functions&quot;</span>
<a id="__codelineno-103-8" name="__codelineno-103-8" href="#__codelineno-103-8"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-103-9" name="__codelineno-103-9" href="#__codelineno-103-9"></a>
<a id="__codelineno-103-10" name="__codelineno-103-10" href="#__codelineno-103-10"></a>haproxy-build-config<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$APP</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="post-registry-login"><code>post-registry-login</code><a class="headerlink" href="#post-registry-login" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows running a command after the a registry has been logged into</li>
<li>Invoked by: <code>dokku registry:login</code></li>
<li>Arguments: <code>$DOCKER_REGISTRY_SERVER $DOCKER_REGISTRY_USER</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a>
<a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="c1"># the DOCKER_REGISTRY_PASS env var is also set</span>
<a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DOCKER_REGISTRY_PASS</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="post-release-builder"><code>post-release-builder</code><a class="headerlink" href="#post-release-builder" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Image mutation in this trigger may result in an invalid run state, and is heavily discouraged.</p>
</div>
<ul>
<li>Description: Invokes a command after the build process is complete.</li>
<li>Invoked by: builder plugins</li>
<li>Arguments: <code>$BUILDER_TYPE $APP $IMAGE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a>
<a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a><span class="nv">BUILDER_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="nv">$3</span>
<a id="__codelineno-105-6" name="__codelineno-105-6" href="#__codelineno-105-6"></a>
<a id="__codelineno-105-7" name="__codelineno-105-7" href="#__codelineno-105-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-stack-set-todo"><code>post-stack-set</code> TODO<a class="headerlink" href="#post-stack-set-todo" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands after changing the stack</li>
<li>Invoked by: buildpacks plugin</li>
<li>Arguments: <code>$APP</code> <code>$VALUE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a>
<a id="__codelineno-106-3" name="__codelineno-106-3" href="#__codelineno-106-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-106-4" name="__codelineno-106-4" href="#__codelineno-106-4"></a>
<a id="__codelineno-106-5" name="__codelineno-106-5" href="#__codelineno-106-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="post-stop"><code>post-stop</code><a class="headerlink" href="#post-stop" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Can be used to run commands after an app is manually stopped</li>
<li>Invoked by: <code>dokku ps:stop</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="c1"># Marks an app as manually stopped</span>
<a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a>
<a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a>
<a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a>
<a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a>dokku<span class="w"> </span>config:set<span class="w"> </span>--no-restart<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">MANUALLY_STOPPED</span><span class="o">=</span><span class="m">1</span>
</code></pre></div>
<h3 id="pre-build"><code>pre-build</code><a class="headerlink" href="#pre-build" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands before the build image is created for a given app. For instance, this can be useful to add env vars to your container.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$BUILDER_TYPE $APP $SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a>
<a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a>
<a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-build-buildpack"><code>pre-build-buildpack</code><a class="headerlink" href="#pre-build-buildpack" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before the build image is created for a given app. For instance, this can be useful to add env vars to your container. Only applies to apps using buildpacks.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a>
<a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a>
<a id="__codelineno-109-5" name="__codelineno-109-5" href="#__codelineno-109-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-build-dockerfile"><code>pre-build-dockerfile</code><a class="headerlink" href="#pre-build-dockerfile" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before the build image is created for a given app. For instance, this can be useful to add env vars to your container. Only applies to apps using a dockerfile.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a>
<a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a>
<a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-build-lambda"><code>pre-build-lambda</code><a class="headerlink" href="#pre-build-lambda" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before the build image is created for a given app. For instance, this can be useful to add env vars to your container. Only applies to apps using lambda.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a>
<a id="__codelineno-111-3" name="__codelineno-111-3" href="#__codelineno-111-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-111-4" name="__codelineno-111-4" href="#__codelineno-111-4"></a>
<a id="__codelineno-111-5" name="__codelineno-111-5" href="#__codelineno-111-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-build-pack"><code>pre-build-pack</code><a class="headerlink" href="#pre-build-pack" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-build</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before the build image is created for a given app. For instance, this can be useful to add env vars to your container. Only applies to apps using pack.</li>
<li>Invoked by: <code>internal function dokku_build() (build phase)</code></li>
<li>Arguments: <code>$APP</code> <code>$SOURCECODE_WORK_DIR</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a>
<a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a>
<a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-delete"><code>pre-delete</code><a class="headerlink" href="#pre-delete" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Can be used to run commands before an app is deleted.</li>
<li>Invoked by: <code>dokku apps:destroy</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="c1"># Clears out the gulp asset build cache for apps</span>
<a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a>
<a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a>
<a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">GULP_CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$DOKKU_ROOT</span><span class="s2">/</span><span class="nv">$APP</span><span class="s2">/gulp&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-113-8" name="__codelineno-113-8" href="#__codelineno-113-8"></a>
<a id="__codelineno-113-9" name="__codelineno-113-9" href="#__codelineno-113-9"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-d<span class="w"> </span><span class="nv">$GULP_CACHE_DIR</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-113-10" name="__codelineno-113-10" href="#__codelineno-113-10"></a><span class="w">  </span>docker<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCKER_COMMIT_LABEL_ARGS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>--rm<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$GULP_CACHE_DIR</span><span class="s2">:/gulp&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IMAGE</span><span class="s2">&quot;</span><span class="w"> </span>find<span class="w"> </span>/gulp<span class="w"> </span>-depth<span class="w"> </span>-mindepth<span class="w"> </span><span class="m">1</span><span class="w"> </span>-maxdepth<span class="w"> </span><span class="m">1</span><span class="w"> </span>-exec<span class="w"> </span>rm<span class="w"> </span>-Rf<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>
<a id="__codelineno-113-11" name="__codelineno-113-11" href="#__codelineno-113-11"></a><span class="k">fi</span>
</code></pre></div>
<h3 id="pre-deploy"><code>pre-deploy</code><a class="headerlink" href="#pre-deploy" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-release-builder</code> instead</p>
</div>
<ul>
<li>Description: Allows the running of code before the app's processes are scaled up and after the docker images are prepared.</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="c1"># Runs gulp in our container</span>
<a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a>
<a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-114-5" name="__codelineno-114-5" href="#__codelineno-114-5"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-114-6" name="__codelineno-114-6" href="#__codelineno-114-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-114-7" name="__codelineno-114-7" href="#__codelineno-114-7"></a>
<a id="__codelineno-114-8" name="__codelineno-114-8" href="#__codelineno-114-8"></a>dokku_log_info1<span class="w"> </span><span class="s2">&quot;Running gulp&quot;</span>
<a id="__codelineno-114-9" name="__codelineno-114-9" href="#__codelineno-114-9"></a><span class="nv">CID</span><span class="o">=</span><span class="k">$(</span>docker<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCKER_COMMIT_LABEL_ARGS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="nv">$IMAGE</span><span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;cd /app &amp;&amp; gulp default&quot;</span><span class="k">)</span>
<a id="__codelineno-114-10" name="__codelineno-114-10" href="#__codelineno-114-10"></a><span class="nb">test</span><span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span><span class="nb">wait</span><span class="w"> </span><span class="nv">$CID</span><span class="k">)</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-114-11" name="__codelineno-114-11" href="#__codelineno-114-11"></a><span class="nv">DOCKER_COMMIT_LABEL_ARGS</span><span class="o">=(</span><span class="s2">&quot;--change&quot;</span><span class="w"> </span><span class="s2">&quot;LABEL org.label-schema.schema-version=1.0&quot;</span><span class="w"> </span><span class="s2">&quot;--change&quot;</span><span class="w"> </span><span class="s2">&quot;LABEL org.label-schema.vendor=dokku&quot;</span><span class="w"> </span><span class="s2">&quot;--change&quot;</span><span class="w"> </span><span class="s2">&quot;LABEL com.dokku.app-name=</span><span class="nv">$APP</span><span class="s2">&quot;</span><span class="o">)</span>
<a id="__codelineno-114-12" name="__codelineno-114-12" href="#__codelineno-114-12"></a>docker<span class="w"> </span>commit<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCKER_COMMIT_LABEL_ARGS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">$CID</span><span class="w"> </span><span class="nv">$IMAGE</span><span class="w"> </span>&gt;/dev/null
</code></pre></div>
<h3 id="pre-disable-vhost"><code>pre-disable-vhost</code><a class="headerlink" href="#pre-disable-vhost" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands before the VHOST feature is disabled</li>
<li>Invoked by: <code>dokku domains:disable</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a>
<a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a>
<a id="__codelineno-115-7" name="__codelineno-115-7" href="#__codelineno-115-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-enable-vhost"><code>pre-enable-vhost</code><a class="headerlink" href="#pre-enable-vhost" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands before the VHOST feature is enabled</li>
<li>Invoked by: <code>dokku domains:enable</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a>
<a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a>
<a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-receive-app"><code>pre-receive-app</code><a class="headerlink" href="#pre-receive-app" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to customize the contents of an app directory before they are processed for deployment. The <code>IMAGE_SOURCE_TYPE</code> can be any of <code>[herokuish, dockerfile]</code></li>
<li>Invoked by: <code>dokku git-hook</code>, <code>dokku tar-build-locked</code></li>
<li>Arguments: <code>$APP $IMAGE_SOURCE_TYPE $TMP_WORK_DIR $REV</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="c1"># Adds a file called `dokku-is-awesome` to the repository</span>
<a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="c1"># the contents will be the app name</span>
<a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a>
<a id="__codelineno-117-5" name="__codelineno-117-5" href="#__codelineno-117-5"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-117-6" name="__codelineno-117-6" href="#__codelineno-117-6"></a>
<a id="__codelineno-117-7" name="__codelineno-117-7" href="#__codelineno-117-7"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_SOURCE_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">TMP_WORK_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">REV</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$4</span><span class="s2">&quot;</span>
<a id="__codelineno-117-8" name="__codelineno-117-8" href="#__codelineno-117-8"></a>
<a id="__codelineno-117-9" name="__codelineno-117-9" href="#__codelineno-117-9"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$APP</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$TMP_WORK_DIR</span><span class="s2">/dokku-is-awesome&quot;</span>
</code></pre></div>
<h3 id="pre-release-builder"><code>pre-release-builder</code><a class="headerlink" href="#pre-release-builder" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands before environment variables are set for the release step of the deploy.</li>
<li>Invoked by: <code>internal function dokku_release() (release phase)</code></li>
<li>Arguments: <code>$BUILDER_TYPE $APP $IMAGE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a>
<a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="nv">BUILDER_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a>
<a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-release-buildpack"><code>pre-release-buildpack</code><a class="headerlink" href="#pre-release-buildpack" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-release-builder</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before environment variables are set for the release step of the deploy. Only applies to apps using buildpacks.</li>
<li>Invoked by: <code>internal function dokku_release() (release phase)</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a><span class="c1"># Installs the graphicsmagick package into the container</span>
<a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a>
<a id="__codelineno-119-4" name="__codelineno-119-4" href="#__codelineno-119-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-119-5" name="__codelineno-119-5" href="#__codelineno-119-5"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-119-6" name="__codelineno-119-6" href="#__codelineno-119-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-119-7" name="__codelineno-119-7" href="#__codelineno-119-7"></a>
<a id="__codelineno-119-8" name="__codelineno-119-8" href="#__codelineno-119-8"></a>dokku_log_info1<span class="w"> </span><span class="s2">&quot;Installing GraphicsMagick...&quot;</span>
<a id="__codelineno-119-9" name="__codelineno-119-9" href="#__codelineno-119-9"></a>
<a id="__codelineno-119-10" name="__codelineno-119-10" href="#__codelineno-119-10"></a><span class="nv">CMD</span><span class="o">=</span><span class="s2">&quot;cat &gt; gm &amp;&amp; \</span>
<a id="__codelineno-119-11" name="__codelineno-119-11" href="#__codelineno-119-11"></a><span class="s2">  dpkg -s graphicsmagick &amp;&gt;/dev/null || \</span>
<a id="__codelineno-119-12" name="__codelineno-119-12" href="#__codelineno-119-12"></a><span class="s2">  (apt-get update -qq &amp;&amp; apt-get -qq -y --no-install-recommends install graphicsmagick &amp;&amp; apt-get clean)&quot;</span>
<a id="__codelineno-119-13" name="__codelineno-119-13" href="#__codelineno-119-13"></a>
<a id="__codelineno-119-14" name="__codelineno-119-14" href="#__codelineno-119-14"></a><span class="nv">CID_FILE</span><span class="o">=</span>/tmp/cid-file
<a id="__codelineno-119-15" name="__codelineno-119-15" href="#__codelineno-119-15"></a>docker<span class="w"> </span>run<span class="w"> </span><span class="nv">$DOKKU_GLOBAL_RUN_ARGS</span><span class="w"> </span>-i<span class="w"> </span>-a<span class="w"> </span>stdin<span class="w"> </span>--cidfile<span class="w"> </span>/tmp/cid-file<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IMAGE</span><span class="s2">&quot;</span><span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$CMD</span><span class="s2">&quot;</span>
<a id="__codelineno-119-16" name="__codelineno-119-16" href="#__codelineno-119-16"></a><span class="nv">CID</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>cat<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$CID_FILE</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-119-17" name="__codelineno-119-17" href="#__codelineno-119-17"></a><span class="nb">test</span><span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span><span class="nb">wait</span><span class="w"> </span><span class="nv">$CID</span><span class="k">)</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-119-18" name="__codelineno-119-18" href="#__codelineno-119-18"></a><span class="nv">DOCKER_COMMIT_LABEL_ARGS</span><span class="o">=(</span><span class="s2">&quot;--change&quot;</span><span class="w"> </span><span class="s2">&quot;LABEL org.label-schema.schema-version=1.0&quot;</span><span class="w"> </span><span class="s2">&quot;--change&quot;</span><span class="w"> </span><span class="s2">&quot;LABEL org.label-schema.vendor=dokku&quot;</span><span class="w"> </span><span class="s2">&quot;--change&quot;</span><span class="w"> </span><span class="s2">&quot;LABEL com.dokku.app-name=</span><span class="nv">$APP</span><span class="s2">&quot;</span><span class="o">)</span>
<a id="__codelineno-119-19" name="__codelineno-119-19" href="#__codelineno-119-19"></a>docker<span class="w"> </span>commit<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCKER_COMMIT_LABEL_ARGS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">$CID</span><span class="w"> </span><span class="nv">$IMAGE</span><span class="w"> </span>&gt;/dev/null
</code></pre></div>
<h3 id="pre-release-lambda"><code>pre-release-lambda</code><a class="headerlink" href="#pre-release-lambda" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-release-builder</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before environment variables are set for the release step of the deploy. Only applies to apps using lambda.</li>
<li>Invoked by: <code>internal function dokku_release() (release phase)</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a>
<a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-120-5" name="__codelineno-120-5" href="#__codelineno-120-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-120-6" name="__codelineno-120-6" href="#__codelineno-120-6"></a>
<a id="__codelineno-120-7" name="__codelineno-120-7" href="#__codelineno-120-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-release-pack"><code>pre-release-pack</code><a class="headerlink" href="#pre-release-pack" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-release-builder</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before environment variables are set for the release step of the deploy. Only applies to apps using pack.</li>
<li>Invoked by: <code>internal function dokku_release() (release phase)</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a>
<a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-121-4" name="__codelineno-121-4" href="#__codelineno-121-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-121-5" name="__codelineno-121-5" href="#__codelineno-121-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-121-6" name="__codelineno-121-6" href="#__codelineno-121-6"></a>
<a id="__codelineno-121-7" name="__codelineno-121-7" href="#__codelineno-121-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-release-dockerfile"><code>pre-release-dockerfile</code><a class="headerlink" href="#pre-release-dockerfile" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated, please use <code>pre-release-builder</code> instead</p>
</div>
<ul>
<li>Description: Allows you to run commands before environment variables are set for the release step of the deploy. Only applies to apps using a dockerfile.</li>
<li>Invoked by: <code>internal function dokku_release() (release phase)</code></li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-122-2" name="__codelineno-122-2" href="#__codelineno-122-2"></a>
<a id="__codelineno-122-3" name="__codelineno-122-3" href="#__codelineno-122-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-122-4" name="__codelineno-122-4" href="#__codelineno-122-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-122-5" name="__codelineno-122-5" href="#__codelineno-122-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>get_app_image_name<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$IMAGE_TAG</span><span class="k">)</span>
<a id="__codelineno-122-6" name="__codelineno-122-6" href="#__codelineno-122-6"></a>
<a id="__codelineno-122-7" name="__codelineno-122-7" href="#__codelineno-122-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-restore"><code>pre-restore</code><a class="headerlink" href="#pre-restore" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands before all containers are restored</li>
<li>Invoked by: <code>dokku ps:restore</code></li>
<li>Arguments:</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a>
<a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a>
<a id="__codelineno-123-6" name="__codelineno-123-6" href="#__codelineno-123-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="pre-start"><code>pre-start</code><a class="headerlink" href="#pre-start" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Can be used to run commands before an app is started</li>
<li>Invoked by: <code>dokku ps:start</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a><span class="c1"># Notifies an example url that an app is starting</span>
<a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a>
<a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a>
<a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a>
<a id="__codelineno-124-8" name="__codelineno-124-8" href="#__codelineno-124-8"></a>curl<span class="w"> </span><span class="s2">&quot;https://dokku.me/starting/</span><span class="si">${</span><span class="nv">APP</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>
</code></pre></div>
<h3 id="procfile-get-command"><code>procfile-get-command</code><a class="headerlink" href="#procfile-get-command" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Fetches the command for a specific process type</li>
<li>Invoked by: <code>internally</code></li>
<li>Arguments: <code>$APP $PROCESS_TYPE $PORT</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a>
<a id="__codelineno-125-3" name="__codelineno-125-3" href="#__codelineno-125-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-125-4" name="__codelineno-125-4" href="#__codelineno-125-4"></a>
<a id="__codelineno-125-5" name="__codelineno-125-5" href="#__codelineno-125-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="procfile-exists"><code>procfile-exists</code><a class="headerlink" href="#procfile-exists" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks if a procfile exists for the specified app</li>
<li>Invoked by: <code>internally</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a>
<a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-126-4" name="__codelineno-126-4" href="#__codelineno-126-4"></a>
<a id="__codelineno-126-5" name="__codelineno-126-5" href="#__codelineno-126-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="proxy-build-config"><code>proxy-build-config</code><a class="headerlink" href="#proxy-build-config" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Builds the proxy implementation configuration for a given app</li>
<li>Invoked by: <code>internally triggered by ps:restore</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a>
<a id="__codelineno-127-3" name="__codelineno-127-3" href="#__codelineno-127-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-127-4" name="__codelineno-127-4" href="#__codelineno-127-4"></a>
<a id="__codelineno-127-5" name="__codelineno-127-5" href="#__codelineno-127-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="proxy-clear-config"><code>proxy-clear-config</code><a class="headerlink" href="#proxy-clear-config" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Clears the proxy implementation configuration for a given app</li>
<li>Invoked by: <code>internally triggered by apps:rename</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-128-2" name="__codelineno-128-2" href="#__codelineno-128-2"></a>
<a id="__codelineno-128-3" name="__codelineno-128-3" href="#__codelineno-128-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-128-4" name="__codelineno-128-4" href="#__codelineno-128-4"></a>
<a id="__codelineno-128-5" name="__codelineno-128-5" href="#__codelineno-128-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="proxy-disable"><code>proxy-disable</code><a class="headerlink" href="#proxy-disable" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Disables the configured proxy implementation for an app</li>
<li>Invoked by: <code>internally triggered by ps:restore</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a>
<a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-129-4" name="__codelineno-129-4" href="#__codelineno-129-4"></a>
<a id="__codelineno-129-5" name="__codelineno-129-5" href="#__codelineno-129-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="proxy-enable"><code>proxy-enable</code><a class="headerlink" href="#proxy-enable" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Enables the configured proxy implementation for an app</li>
<li>Invoked by: <code>internally triggered by ps:restore</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-130-2" name="__codelineno-130-2" href="#__codelineno-130-2"></a>
<a id="__codelineno-130-3" name="__codelineno-130-3" href="#__codelineno-130-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-130-4" name="__codelineno-130-4" href="#__codelineno-130-4"></a>
<a id="__codelineno-130-5" name="__codelineno-130-5" href="#__codelineno-130-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="proxy-is-enabled"><code>proxy-is-enabled</code><a class="headerlink" href="#proxy-is-enabled" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Checks if there is a proxy enabled for the app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-131-2" name="__codelineno-131-2" href="#__codelineno-131-2"></a>
<a id="__codelineno-131-3" name="__codelineno-131-3" href="#__codelineno-131-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-131-4" name="__codelineno-131-4" href="#__codelineno-131-4"></a>
<a id="__codelineno-131-5" name="__codelineno-131-5" href="#__codelineno-131-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="proxy-type"><code>proxy-type</code><a class="headerlink" href="#proxy-type" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Returns the proxy type for an app</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a>
<a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-132-4" name="__codelineno-132-4" href="#__codelineno-132-4"></a>
<a id="__codelineno-132-5" name="__codelineno-132-5" href="#__codelineno-132-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ps-can-scale"><code>ps-can-scale</code><a class="headerlink" href="#ps-can-scale" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Sets whether or not a user can scale an app with <code>ps:scale</code></li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-133-2" name="__codelineno-133-2" href="#__codelineno-133-2"></a>
<a id="__codelineno-133-3" name="__codelineno-133-3" href="#__codelineno-133-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-133-4" name="__codelineno-133-4" href="#__codelineno-133-4"></a>
<a id="__codelineno-133-5" name="__codelineno-133-5" href="#__codelineno-133-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ps-current-scale"><code>ps-current-scale</code><a class="headerlink" href="#ps-current-scale" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Prints out the current scale contents (process-type=quantity) delimited by newlines.</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-134-2" name="__codelineno-134-2" href="#__codelineno-134-2"></a>
<a id="__codelineno-134-3" name="__codelineno-134-3" href="#__codelineno-134-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-134-4" name="__codelineno-134-4" href="#__codelineno-134-4"></a>
<a id="__codelineno-134-5" name="__codelineno-134-5" href="#__codelineno-134-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="ps-set-scale"><code>ps-set-scale</code><a class="headerlink" href="#ps-set-scale" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Sets the scale for an app based on a specified formation (process-type=quantity). Any unspecified process types will be left as is.</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $SKIP_DEPLOY $CLEAR_EXISTING [$PROCESS_TUPLE...]</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-135-2" name="__codelineno-135-2" href="#__codelineno-135-2"></a>
<a id="__codelineno-135-3" name="__codelineno-135-3" href="#__codelineno-135-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-135-4" name="__codelineno-135-4" href="#__codelineno-135-4"></a>
<a id="__codelineno-135-5" name="__codelineno-135-5" href="#__codelineno-135-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="receive-app"><code>receive-app</code><a class="headerlink" href="#receive-app" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to customize what occurs when an app is received. Normally just triggers an app build.</li>
<li>Invoked by: <code>dokku git-hook</code>, <code>dokku ps:rebuild</code></li>
<li>Arguments: <code>$APP $REV</code> (<code>$REV</code> may not be included in cases where a repository is not pushed)</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-136-2" name="__codelineno-136-2" href="#__codelineno-136-2"></a><span class="c1"># For our imaginary mercurial plugin, triggers a rebuild</span>
<a id="__codelineno-136-3" name="__codelineno-136-3" href="#__codelineno-136-3"></a>
<a id="__codelineno-136-4" name="__codelineno-136-4" href="#__codelineno-136-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-136-5" name="__codelineno-136-5" href="#__codelineno-136-5"></a>
<a id="__codelineno-136-6" name="__codelineno-136-6" href="#__codelineno-136-6"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">REV</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<a id="__codelineno-136-7" name="__codelineno-136-7" href="#__codelineno-136-7"></a>
<a id="__codelineno-136-8" name="__codelineno-136-8" href="#__codelineno-136-8"></a>dokku<span class="w"> </span>hg-build<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$REV</span>
</code></pre></div>
<h3 id="receive-branch"><code>receive-branch</code><a class="headerlink" href="#receive-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to customize what occurs when a specific branch is received. Can be used to add support for specific branch names</li>
<li>Invoked by: <code>dokku git-hook</code>, <code>dokku ps:rebuild</code></li>
<li>Arguments: <code>$APP $REV $REFNAME</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-137-2" name="__codelineno-137-2" href="#__codelineno-137-2"></a><span class="c1"># Gives Dokku the ability to support multiple branches for a given service</span>
<a id="__codelineno-137-3" name="__codelineno-137-3" href="#__codelineno-137-3"></a><span class="c1"># Allowing you to have multiple staging environments on a per-branch basis</span>
<a id="__codelineno-137-4" name="__codelineno-137-4" href="#__codelineno-137-4"></a>
<a id="__codelineno-137-5" name="__codelineno-137-5" href="#__codelineno-137-5"></a><span class="nv">reference_app</span><span class="o">=</span><span class="nv">$1</span>
<a id="__codelineno-137-6" name="__codelineno-137-6" href="#__codelineno-137-6"></a><span class="nv">refname</span><span class="o">=</span><span class="nv">$3</span>
<a id="__codelineno-137-7" name="__codelineno-137-7" href="#__codelineno-137-7"></a><span class="nv">newrev</span><span class="o">=</span><span class="nv">$2</span>
<a id="__codelineno-137-8" name="__codelineno-137-8" href="#__codelineno-137-8"></a><span class="nv">APP</span><span class="o">=</span><span class="si">${</span><span class="nv">refname</span><span class="p">/*</span><span class="se">\/</span><span class="p">/</span><span class="si">}</span>.<span class="nv">$reference_app</span>
<a id="__codelineno-137-9" name="__codelineno-137-9" href="#__codelineno-137-9"></a>
<a id="__codelineno-137-10" name="__codelineno-137-10" href="#__codelineno-137-10"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>!<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DOKKU_ROOT</span><span class="s2">/</span><span class="nv">$APP</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-137-11" name="__codelineno-137-11" href="#__codelineno-137-11"></a><span class="w">  </span><span class="nv">REFERENCE_REPO</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$DOKKU_ROOT</span><span class="s2">/</span><span class="nv">$reference_app</span><span class="s2">&quot;</span>
<a id="__codelineno-137-12" name="__codelineno-137-12" href="#__codelineno-137-12"></a><span class="w">  </span>git<span class="w"> </span>clone<span class="w"> </span>--bare<span class="w"> </span>--shared<span class="w"> </span>--reference<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$REFERENCE_REPO</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$REFERENCE_REPO</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DOKKU_ROOT</span><span class="s2">/</span><span class="nv">$APP</span><span class="s2">&quot;</span><span class="w"> </span>&gt;/dev/null
<a id="__codelineno-137-13" name="__codelineno-137-13" href="#__codelineno-137-13"></a><span class="k">fi</span>
<a id="__codelineno-137-14" name="__codelineno-137-14" href="#__codelineno-137-14"></a>plugn<span class="w"> </span>trigger<span class="w"> </span>receive-app<span class="w"> </span><span class="nv">$APP</span><span class="w"> </span><span class="nv">$newrev</span>
</code></pre></div>
<h3 id="release-and-deploy"><code>release-and-deploy</code><a class="headerlink" href="#release-and-deploy" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Triggers a release of the image tag and a subsequent deploy</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a>
<a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-138-5" name="__codelineno-138-5" href="#__codelineno-138-5"></a>
<a id="__codelineno-138-6" name="__codelineno-138-6" href="#__codelineno-138-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="report"><code>report</code><a class="headerlink" href="#report" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to report on any custom configuration in use by your application</li>
<li>Invoked by: <code>dokku report</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a>
<a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a>
<a id="__codelineno-139-6" name="__codelineno-139-6" href="#__codelineno-139-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="resource-get-property"><code>resource-get-property</code><a class="headerlink" href="#resource-get-property" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Fetches a given resource property value</li>
<li>Invoked by:</li>
<li>Arguments: <code>$APP</code> <code>$PROC_TYPE</code> <code>$RESOURCE_TYPE</code> <code>$PROPERTY</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a>
<a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-140-4" name="__codelineno-140-4" href="#__codelineno-140-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROC_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">RESOURCE_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">PROPERTY</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$4</span><span class="s2">&quot;</span>
<a id="__codelineno-140-5" name="__codelineno-140-5" href="#__codelineno-140-5"></a>
<a id="__codelineno-140-6" name="__codelineno-140-6" href="#__codelineno-140-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="retire-container-failed"><code>retire-container-failed</code><a class="headerlink" href="#retire-container-failed" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Allows you to run commands if/when retiring old containers has failed</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a><span class="c1"># Send an email when a container failed to retire</span>
<a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a>
<a id="__codelineno-141-4" name="__codelineno-141-4" href="#__codelineno-141-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-141-5" name="__codelineno-141-5" href="#__codelineno-141-5"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">HOSTNAME</span><span class="o">=</span><span class="k">$(</span>hostname<span class="w"> </span>-s<span class="k">)</span>
<a id="__codelineno-141-6" name="__codelineno-141-6" href="#__codelineno-141-6"></a>
<a id="__codelineno-141-7" name="__codelineno-141-7" href="#__codelineno-141-7"></a>mail<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$APP</span><span class="s2"> containers on </span><span class="nv">$HOSTNAME</span><span class="s2"> failed to retire&quot;</span><span class="w"> </span>ops@dokku.me
</code></pre></div>
<h3 id="scheduler-app-status"><code>scheduler-app-status</code><a class="headerlink" href="#scheduler-app-status" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Fetch the status of an app</li>
<li>Invoked by: <code>dokku ps:report</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-142-2" name="__codelineno-142-2" href="#__codelineno-142-2"></a>
<a id="__codelineno-142-3" name="__codelineno-142-3" href="#__codelineno-142-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-142-4" name="__codelineno-142-4" href="#__codelineno-142-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-142-5" name="__codelineno-142-5" href="#__codelineno-142-5"></a>
<a id="__codelineno-142-6" name="__codelineno-142-6" href="#__codelineno-142-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-cron-write"><code>scheduler-cron-write</code><a class="headerlink" href="#scheduler-cron-write" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Force triggers writing out cron tasks. Arguments are optional.</li>
<li>Invoked by: <code>ps:start</code>, <code>ps:stop</code>, <code>cron:set</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a>
<a id="__codelineno-143-3" name="__codelineno-143-3" href="#__codelineno-143-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-143-4" name="__codelineno-143-4" href="#__codelineno-143-4"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN_CORE_AVAILABLE_PATH</span><span class="s2">/common/functions&quot;</span>
<a id="__codelineno-143-5" name="__codelineno-143-5" href="#__codelineno-143-5"></a>
<a id="__codelineno-143-6" name="__codelineno-143-6" href="#__codelineno-143-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-deploy"><code>scheduler-deploy</code><a class="headerlink" href="#scheduler-deploy" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when an app is deployed</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a>
<a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-144-4" name="__codelineno-144-4" href="#__codelineno-144-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-144-5" name="__codelineno-144-5" href="#__codelineno-144-5"></a>
<a id="__codelineno-144-6" name="__codelineno-144-6" href="#__codelineno-144-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-detect"><code>scheduler-detect</code><a class="headerlink" href="#scheduler-detect" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to check which scheduler is in use for an app</li>
<li>Invoked by: <code>dokku deploy</code></li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a>
<a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-145-5" name="__codelineno-145-5" href="#__codelineno-145-5"></a>
<a id="__codelineno-145-6" name="__codelineno-145-6" href="#__codelineno-145-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-enter"><code>scheduler-enter</code><a class="headerlink" href="#scheduler-enter" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to enter a running container for a given app</li>
<li>Invoked by: <code>dokku enter</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $@</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a>
<a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">ARGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<a id="__codelineno-146-5" name="__codelineno-146-5" href="#__codelineno-146-5"></a>
<a id="__codelineno-146-6" name="__codelineno-146-6" href="#__codelineno-146-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-inspect"><code>scheduler-inspect</code><a class="headerlink" href="#scheduler-inspect" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run inspect commands for all containers for a given app</li>
<li>Invoked by: <code>dokku ps:inspect</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a>
<a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-147-4" name="__codelineno-147-4" href="#__codelineno-147-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-147-5" name="__codelineno-147-5" href="#__codelineno-147-5"></a>
<a id="__codelineno-147-6" name="__codelineno-147-6" href="#__codelineno-147-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-is-deployed"><code>scheduler-is-deployed</code><a class="headerlink" href="#scheduler-is-deployed" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to check if the scheduler has deployed the app</li>
<li>Invoked by: Various plugins</li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a>
<a id="__codelineno-148-3" name="__codelineno-148-3" href="#__codelineno-148-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-148-4" name="__codelineno-148-4" href="#__codelineno-148-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-148-5" name="__codelineno-148-5" href="#__codelineno-148-5"></a>
<a id="__codelineno-148-6" name="__codelineno-148-6" href="#__codelineno-148-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-logs"><code>scheduler-logs</code><a class="headerlink" href="#scheduler-logs" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when retrieving container logs</li>
<li>Invoked by: <code>dokku logs:failed</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $PROCESS_TYPE $TAIL $PRETTY_PRINT $NUM</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a>
<a id="__codelineno-149-3" name="__codelineno-149-3" href="#__codelineno-149-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-149-4" name="__codelineno-149-4" href="#__codelineno-149-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROCESS_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">TAIL</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$4</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PRETTY_PRINT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$5</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">NUM</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$6</span><span class="s2">&quot;</span>
<a id="__codelineno-149-5" name="__codelineno-149-5" href="#__codelineno-149-5"></a>
<a id="__codelineno-149-6" name="__codelineno-149-6" href="#__codelineno-149-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-logs-failed"><code>scheduler-logs-failed</code><a class="headerlink" href="#scheduler-logs-failed" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when retrieving failed container logs</li>
<li>Invoked by: <code>dokku logs:failed</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-150-2" name="__codelineno-150-2" href="#__codelineno-150-2"></a>
<a id="__codelineno-150-3" name="__codelineno-150-3" href="#__codelineno-150-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-150-4" name="__codelineno-150-4" href="#__codelineno-150-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-150-5" name="__codelineno-150-5" href="#__codelineno-150-5"></a>
<a id="__codelineno-150-6" name="__codelineno-150-6" href="#__codelineno-150-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-proxy-logs"><code>scheduler-proxy-logs</code><a class="headerlink" href="#scheduler-proxy-logs" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when retrieving failed container logs</li>
<li>Invoked by: <code>dokku nginx:access-logs</code> and <code>dokku nginx:error-logs</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $PROXY_TYPE $LOG_TYPE $TAIL $NUM_LINES</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-151-2" name="__codelineno-151-2" href="#__codelineno-151-2"></a>
<a id="__codelineno-151-3" name="__codelineno-151-3" href="#__codelineno-151-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-151-4" name="__codelineno-151-4" href="#__codelineno-151-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">$PROXY_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">LOG_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$4</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">TAIL</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$5</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">NUM_LINES</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$6</span><span class="s2">&quot;</span>
<a id="__codelineno-151-5" name="__codelineno-151-5" href="#__codelineno-151-5"></a>
<a id="__codelineno-151-6" name="__codelineno-151-6" href="#__codelineno-151-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-pre-restore"><code>scheduler-pre-restore</code><a class="headerlink" href="#scheduler-pre-restore" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run commands before an app is restored</li>
<li>Invoked by: <code>dokku ps:restore</code></li>
<li>Arguments: <code>$DOKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a>
<a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-152-4" name="__codelineno-152-4" href="#__codelineno-152-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-152-5" name="__codelineno-152-5" href="#__codelineno-152-5"></a>
<a id="__codelineno-152-6" name="__codelineno-152-6" href="#__codelineno-152-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-post-delete"><code>scheduler-post-delete</code><a class="headerlink" href="#scheduler-post-delete" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when an app is deleted</li>
<li>Invoked by: <code>dokku apps:destroy</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $IMAGE_TAG</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-153-2" name="__codelineno-153-2" href="#__codelineno-153-2"></a>
<a id="__codelineno-153-3" name="__codelineno-153-3" href="#__codelineno-153-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-153-4" name="__codelineno-153-4" href="#__codelineno-153-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">IMAGE_TAG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-153-5" name="__codelineno-153-5" href="#__codelineno-153-5"></a>
<a id="__codelineno-153-6" name="__codelineno-153-6" href="#__codelineno-153-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-post-deploy-process"><code>scheduler-post-deploy-process</code><a class="headerlink" href="#scheduler-post-deploy-process" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run a command after a process has been started</li>
<li>Invoked by: scheduler-docker-local</li>
<li>Arguments: <code>$APP $PROCESS_TYPE</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-154-2" name="__codelineno-154-2" href="#__codelineno-154-2"></a>
<a id="__codelineno-154-3" name="__codelineno-154-3" href="#__codelineno-154-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-154-4" name="__codelineno-154-4" href="#__codelineno-154-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PROCESS_TYPE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-154-5" name="__codelineno-154-5" href="#__codelineno-154-5"></a>
<a id="__codelineno-154-6" name="__codelineno-154-6" href="#__codelineno-154-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-post-run"><code>scheduler-post-run</code><a class="headerlink" href="#scheduler-post-run" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands after a <code>dokku run</code> invocation is called</li>
<li>Invoked by: <code>dokku run</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $CONTAINER_ID</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-155-2" name="__codelineno-155-2" href="#__codelineno-155-2"></a>
<a id="__codelineno-155-3" name="__codelineno-155-3" href="#__codelineno-155-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-155-4" name="__codelineno-155-4" href="#__codelineno-155-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">CONTAINER_ID</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-155-5" name="__codelineno-155-5" href="#__codelineno-155-5"></a>
<a id="__codelineno-155-6" name="__codelineno-155-6" href="#__codelineno-155-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-register-retired"><code>scheduler-register-retired</code><a class="headerlink" href="#scheduler-register-retired" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows scheduling retiring a local container and any related images</li>
<li>Invoked by: <code>internally</code></li>
<li>Arguments: <code>$APP $CONTAINER_ID</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-156-2" name="__codelineno-156-2" href="#__codelineno-156-2"></a>
<a id="__codelineno-156-3" name="__codelineno-156-3" href="#__codelineno-156-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-156-4" name="__codelineno-156-4" href="#__codelineno-156-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-156-5" name="__codelineno-156-5" href="#__codelineno-156-5"></a><span class="nv">CONTAINER_ID</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-156-6" name="__codelineno-156-6" href="#__codelineno-156-6"></a>
<a id="__codelineno-156-7" name="__codelineno-156-7" href="#__codelineno-156-7"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-retire"><code>scheduler-retire</code><a class="headerlink" href="#scheduler-retire" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when containers should be force retired from the system</li>
<li>Invoked by: <code>dokku run</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-157-2" name="__codelineno-157-2" href="#__codelineno-157-2"></a>
<a id="__codelineno-157-3" name="__codelineno-157-3" href="#__codelineno-157-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-157-4" name="__codelineno-157-4" href="#__codelineno-157-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-157-5" name="__codelineno-157-5" href="#__codelineno-157-5"></a>
<a id="__codelineno-157-6" name="__codelineno-157-6" href="#__codelineno-157-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-run"><code>scheduler-run</code><a class="headerlink" href="#scheduler-run" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when a command is executed for your app</li>
<li>Invoked by: <code>dokku run</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP ...ARGS</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a>
<a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-158-4" name="__codelineno-158-4" href="#__codelineno-158-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">ARGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">@:</span><span class="nv">3</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-158-5" name="__codelineno-158-5" href="#__codelineno-158-5"></a>
<a id="__codelineno-158-6" name="__codelineno-158-6" href="#__codelineno-158-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-run-list"><code>scheduler-run-list</code><a class="headerlink" href="#scheduler-run-list" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Lists all run containers for a given app</li>
<li>Invoked by: <code>dokku run</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $FORMAT</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-159-2" name="__codelineno-159-2" href="#__codelineno-159-2"></a>
<a id="__codelineno-159-3" name="__codelineno-159-3" href="#__codelineno-159-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-159-4" name="__codelineno-159-4" href="#__codelineno-159-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">FORMAT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-159-5" name="__codelineno-159-5" href="#__codelineno-159-5"></a>
<a id="__codelineno-159-6" name="__codelineno-159-6" href="#__codelineno-159-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-run-logs"><code>scheduler-run-logs</code><a class="headerlink" href="#scheduler-run-logs" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when retrieving one-off container logs</li>
<li>Invoked by: <code>dokku run</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $CONTAINER $TAIL $PRETTY_PRINT $NUM</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-160-2" name="__codelineno-160-2" href="#__codelineno-160-2"></a>
<a id="__codelineno-160-3" name="__codelineno-160-3" href="#__codelineno-160-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-160-4" name="__codelineno-160-4" href="#__codelineno-160-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">CONTAINER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">TAIL</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$4</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">PRETTY_PRINT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$5</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">NUM</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$6</span><span class="s2">&quot;</span>
<a id="__codelineno-160-5" name="__codelineno-160-5" href="#__codelineno-160-5"></a>
<a id="__codelineno-160-6" name="__codelineno-160-6" href="#__codelineno-160-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-run-retire"><code>scheduler-run-retire</code><a class="headerlink" href="#scheduler-run-retire" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to retire containers started by the <code>run</code> command</li>
<li>Invoked by: <code>dokku run:retire</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-161-2" name="__codelineno-161-2" href="#__codelineno-161-2"></a>
<a id="__codelineno-161-3" name="__codelineno-161-3" href="#__codelineno-161-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-161-4" name="__codelineno-161-4" href="#__codelineno-161-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-161-5" name="__codelineno-161-5" href="#__codelineno-161-5"></a>
<a id="__codelineno-161-6" name="__codelineno-161-6" href="#__codelineno-161-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-run-stop"><code>scheduler-run-stop</code><a class="headerlink" href="#scheduler-run-stop" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows a scheduler to stop all "run" containers or a specified container</li>
<li>Invoked by: <code>dokku run:stop</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $CONTAINER_NAME</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-162-2" name="__codelineno-162-2" href="#__codelineno-162-2"></a>
<a id="__codelineno-162-3" name="__codelineno-162-3" href="#__codelineno-162-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-162-4" name="__codelineno-162-4" href="#__codelineno-162-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">CONTAINER_NAME</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-162-5" name="__codelineno-162-5" href="#__codelineno-162-5"></a>
<a id="__codelineno-162-6" name="__codelineno-162-6" href="#__codelineno-162-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="scheduler-stop"><code>scheduler-stop</code><a class="headerlink" href="#scheduler-stop" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scheduler plugin trigger apis are under development and may change
between minor releases until the 1.0 release.</p>
</div>
<ul>
<li>Description: Allows you to run scheduler commands when a tag is destroyed</li>
<li>Invoked by: <code>dokku apps:destroy, dokku ps:stop</code></li>
<li>Arguments: <code>$DOKKU_SCHEDULER $APP $REMOVE_CONTAINERS</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a>
<a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-163-4" name="__codelineno-163-4" href="#__codelineno-163-4"></a><span class="nv">DOKKU_SCHEDULER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nv">REMOVE_CONTAINERS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-163-5" name="__codelineno-163-5" href="#__codelineno-163-5"></a>
<a id="__codelineno-163-6" name="__codelineno-163-6" href="#__codelineno-163-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="storage-list"><code>storage-list</code><a class="headerlink" href="#storage-list" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Returns a list of storage mounts</li>
<li>Invoked by: <code>dokku storage:list</code> and <code>dokku deploy</code></li>
<li>Arguments: <code>$APP $PHASE $FORMAT</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-164-2" name="__codelineno-164-2" href="#__codelineno-164-2"></a>
<a id="__codelineno-164-3" name="__codelineno-164-3" href="#__codelineno-164-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-164-4" name="__codelineno-164-4" href="#__codelineno-164-4"></a><span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-164-5" name="__codelineno-164-5" href="#__codelineno-164-5"></a>
<a id="__codelineno-164-6" name="__codelineno-164-6" href="#__codelineno-164-6"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="traefik-template-source"><code>traefik-template-source</code><a class="headerlink" href="#traefik-template-source" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Retrieves an alternative template for the traefik compose config</li>
<li>Invoked by: traefik-vhosts</li>
<li>Arguments: <code>$APP</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-165-2" name="__codelineno-165-2" href="#__codelineno-165-2"></a>
<a id="__codelineno-165-3" name="__codelineno-165-3" href="#__codelineno-165-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-165-4" name="__codelineno-165-4" href="#__codelineno-165-4"></a>
<a id="__codelineno-165-5" name="__codelineno-165-5" href="#__codelineno-165-5"></a><span class="c1"># TODO</span>
</code></pre></div>
<h3 id="uninstall"><code>uninstall</code><a class="headerlink" href="#uninstall" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Used to cleanup after itself.</li>
<li>Invoked by: <code>dokku plugin:uninstall</code></li>
<li>Arguments: <code>$PLUGIN</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-166-2" name="__codelineno-166-2" href="#__codelineno-166-2"></a><span class="c1"># Cleanup up extra containers created</span>
<a id="__codelineno-166-3" name="__codelineno-166-3" href="#__codelineno-166-3"></a>
<a id="__codelineno-166-4" name="__codelineno-166-4" href="#__codelineno-166-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-166-5" name="__codelineno-166-5" href="#__codelineno-166-5"></a>
<a id="__codelineno-166-6" name="__codelineno-166-6" href="#__codelineno-166-6"></a><span class="nv">PLUGIN</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-166-7" name="__codelineno-166-7" href="#__codelineno-166-7"></a>
<a id="__codelineno-166-8" name="__codelineno-166-8" href="#__codelineno-166-8"></a><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PLUGIN</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-plugin&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>docker<span class="w"> </span>rmi<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PLUGIN_IMAGE_DEPENDENCY</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<blockquote>
<p>To avoid uninstalling other plugins make sure to check the plugin name like shown in the example.</p>
</blockquote>
<h3 id="update"><code>update</code><a class="headerlink" href="#update" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Can be used to run plugin updates on a regular interval. You can schedule the invoker in a cron-task to ensure your system gets regular updates.</li>
<li>Invoked by: <code>dokku plugin:update</code>.</li>
<li>Arguments: None</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-167-2" name="__codelineno-167-2" href="#__codelineno-167-2"></a><span class="c1"># Update the herokuish image from git source</span>
<a id="__codelineno-167-3" name="__codelineno-167-3" href="#__codelineno-167-3"></a>
<a id="__codelineno-167-4" name="__codelineno-167-4" href="#__codelineno-167-4"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-167-5" name="__codelineno-167-5" href="#__codelineno-167-5"></a>
<a id="__codelineno-167-6" name="__codelineno-167-6" href="#__codelineno-167-6"></a><span class="nb">cd</span><span class="w"> </span>/root/dokku
<a id="__codelineno-167-7" name="__codelineno-167-7" href="#__codelineno-167-7"></a>sudo<span class="w"> </span><span class="nv">BUILD_STACK</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>
<h3 id="user-auth"><code>user-auth</code><a class="headerlink" href="#user-auth" title="Permanent link">&para;</a></h3>
<p>This is a special plugin trigger that is executed on <em>every</em> command run. As Dokku sometimes internally invokes the <code>dokku</code> command, special care should be taken to properly handle internal command redirects.</p>
<p>Note that the trigger should exit as follows:</p>
<ul>
<li><code>0</code> to continue running as normal</li>
<li><code>1</code> to halt execution of the command</li>
</ul>
<p>The <code>SSH_USER</code> is the original ssh user. If you are running remote commands, this user will typically be <code>dokku</code>, and as such should not be trusted when checking permissions. If you are connected via ssh as a different user who then invokes <code>dokku</code>, the value of this variable will be that user's name (<code>root</code>, <code>myuser</code>, etc.).</p>
<p>The <code>SSH_NAME</code> is the <code>NAME</code> variable set via the <code>sshcommand acl-add</code> command. For reference, the following command can be run as the root user to specify a specific <code>NAME</code> for a given ssh key:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-168-1" name="__codelineno-168-1" href="#__codelineno-168-1"></a>sshcommand<span class="w"> </span>acl-add<span class="w"> </span>dokku<span class="w"> </span>NAME<span class="w"> </span>&lt;<span class="w"> </span><span class="nv">$PATH_TO_SSH_KEY</span>
</code></pre></div>
<p>Note that the <code>NAME</code> value is set at the first ssh key match. If an ssh key is set in the <code>/home/dokku/.ssh/authorized_keys</code> multiple times, the first match will decide the value.</p>
<ul>
<li>Description: Allows you to deny access to a Dokku command by either ssh user or associated ssh-command NAME user.</li>
<li>Invoked by: <code>dokku</code></li>
<li>Arguments: <code>$SSH_USER $SSH_NAME $DOKKU_COMMAND</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-169-1" name="__codelineno-169-1" href="#__codelineno-169-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-169-2" name="__codelineno-169-2" href="#__codelineno-169-2"></a><span class="c1"># Allow root/admin users to do everything</span>
<a id="__codelineno-169-3" name="__codelineno-169-3" href="#__codelineno-169-3"></a><span class="c1"># Deny plugin access to default users</span>
<a id="__codelineno-169-4" name="__codelineno-169-4" href="#__codelineno-169-4"></a><span class="c1"># Allow access to all other commands</span>
<a id="__codelineno-169-5" name="__codelineno-169-5" href="#__codelineno-169-5"></a>
<a id="__codelineno-169-6" name="__codelineno-169-6" href="#__codelineno-169-6"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-169-7" name="__codelineno-169-7" href="#__codelineno-169-7"></a>
<a id="__codelineno-169-8" name="__codelineno-169-8" href="#__codelineno-169-8"></a><span class="nv">SSH_USER</span><span class="o">=</span><span class="nv">$1</span>
<a id="__codelineno-169-9" name="__codelineno-169-9" href="#__codelineno-169-9"></a><span class="nv">SSH_NAME</span><span class="o">=</span><span class="nv">$2</span>
<a id="__codelineno-169-10" name="__codelineno-169-10" href="#__codelineno-169-10"></a><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<a id="__codelineno-169-11" name="__codelineno-169-11" href="#__codelineno-169-11"></a><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SSH_USER</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-169-12" name="__codelineno-169-12" href="#__codelineno-169-12"></a><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SSH_NAME</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-169-13" name="__codelineno-169-13" href="#__codelineno-169-13"></a><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SSH_NAME</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>plugin:*<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-169-14" name="__codelineno-169-14" href="#__codelineno-169-14"></a><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<h3 id="user-auth-app"><code>user-auth-app</code><a class="headerlink" href="#user-auth-app" title="Permanent link">&para;</a></h3>
<p>This is a special plugin trigger that is executed when listing apps or checking if an app exists. All Dokku commands should check if an app exists at least once before interacting with them so as not to circumvent the check.</p>
<p>Note that the trigger should exit <code>0</code>, and each non-empty line on stdout is captured as a valid app name.</p>
<p>The <code>SSH_USER</code> is the original ssh user. If you are running remote commands, this user will typically be <code>dokku</code>, and as such should not be trusted when checking permissions. If you are connected via ssh as a different user who then invokes <code>dokku</code>, the value of this variable will be that user's name (<code>root</code>, <code>myuser</code>, etc.).</p>
<p>The <code>SSH_NAME</code> is the <code>NAME</code> variable set via the <code>sshcommand acl-add</code> command. For reference, the following command can be run as the root user to specify a specific <code>NAME</code> for a given ssh key:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-170-1" name="__codelineno-170-1" href="#__codelineno-170-1"></a>sshcommand<span class="w"> </span>acl-add<span class="w"> </span>dokku<span class="w"> </span>NAME<span class="w"> </span>&lt;<span class="w"> </span><span class="nv">$PATH_TO_SSH_KEY</span>
</code></pre></div>
<p>Note that the <code>NAME</code> value is set at the first ssh key match. If an ssh key is set in the <code>/home/dokku/.ssh/authorized_keys</code> multiple times, the first match will decide the value.</p>
<ul>
<li>Description: Allows you to deny access to a Dokku app by either ssh user or associated ssh-command NAME user.</li>
<li>Invoked by: <code>dokku</code></li>
<li>Arguments: <code>$SSH_USER $SSH_NAME $DOKKU_COMMAND</code></li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-171-1" name="__codelineno-171-1" href="#__codelineno-171-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-171-2" name="__codelineno-171-2" href="#__codelineno-171-2"></a><span class="c1"># hide any apps with the prefix &quot;admin&quot;</span>
<a id="__codelineno-171-3" name="__codelineno-171-3" href="#__codelineno-171-3"></a><span class="c1"># if the logged in user (SSH_USER) or SSH_NAME is not `root`</span>
<a id="__codelineno-171-4" name="__codelineno-171-4" href="#__codelineno-171-4"></a>
<a id="__codelineno-171-5" name="__codelineno-171-5" href="#__codelineno-171-5"></a>main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-171-6" name="__codelineno-171-6" href="#__codelineno-171-6"></a><span class="w">  </span><span class="nb">declare</span><span class="w"> </span><span class="nv">SSH_USER</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">SSH_NAME</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">ARGS</span><span class="o">=(</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">@:</span><span class="nv">3</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span>
<a id="__codelineno-171-7" name="__codelineno-171-7" href="#__codelineno-171-7"></a>
<a id="__codelineno-171-8" name="__codelineno-171-8" href="#__codelineno-171-8"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span>arg<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">ARGS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<a id="__codelineno-171-9" name="__codelineno-171-9" href="#__codelineno-171-9"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$arg</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>admin-*<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SSH_USER</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SSH_NAME</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-171-10" name="__codelineno-171-10" href="#__codelineno-171-10"></a><span class="w">      </span><span class="k">continue</span>
<a id="__codelineno-171-11" name="__codelineno-171-11" href="#__codelineno-171-11"></a><span class="w">    </span><span class="k">fi</span>
<a id="__codelineno-171-12" name="__codelineno-171-12" href="#__codelineno-171-12"></a>
<a id="__codelineno-171-13" name="__codelineno-171-13" href="#__codelineno-171-13"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">arg</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-171-14" name="__codelineno-171-14" href="#__codelineno-171-14"></a><span class="w">  </span><span class="k">done</span>
<a id="__codelineno-171-15" name="__codelineno-171-15" href="#__codelineno-171-15"></a><span class="o">}</span>
<a id="__codelineno-171-16" name="__codelineno-171-16" href="#__codelineno-171-16"></a>
<a id="__codelineno-171-17" name="__codelineno-171-17" href="#__codelineno-171-17"></a>main<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="vector-template-source"><code>vector-template-source</code><a class="headerlink" href="#vector-template-source" title="Permanent link">&para;</a></h3>
<ul>
<li>Description: Retrieves an alternative template for the vector compose config</li>
<li>Invoked by: caddy-vhosts</li>
<li>Arguments:</li>
<li>Example:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-172-1" name="__codelineno-172-1" href="#__codelineno-172-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-172-2" name="__codelineno-172-2" href="#__codelineno-172-2"></a>
<a id="__codelineno-172-3" name="__codelineno-172-3" href="#__codelineno-172-3"></a><span class="nb">set</span><span class="w"> </span>-eo<span class="w"> </span>pipefail<span class="p">;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$DOKKU_TRACE</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
<a id="__codelineno-172-4" name="__codelineno-172-4" href="#__codelineno-172-4"></a>
<a id="__codelineno-172-5" name="__codelineno-172-5" href="#__codelineno-172-5"></a><span class="c1"># TODO</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../plugin-creation/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Plugin creation">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Plugin creation
              </div>
            </div>
          </a>
        
        
          
          <a href="../testing/" class="md-footer__link md-footer__link--next" aria-label="Next: Running Tests">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Running Tests
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dokku/dokku" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/dokku/dokku/issues" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M192 96c0-53 43-96 96-96s96 43 96 96v3.6c0 15.7-12.7 28.4-28.4 28.4H220.5c-15.7 0-28.4-12.7-28.4-28.4V96zm345.6 12.8c10.6 14.1 7.7 34.2-6.4 44.8l-97.8 73.3c5.3 8.9 9.3 18.7 11.8 29.1H544c17.7 0 32 14.3 32 32s-14.3 32-32 32h-96v32c0 2.6-.1 5.3-.2 7.9l83.4 62.5c14.1 10.6 17 30.7 6.4 44.8s-30.7 17-44.8 6.4l-63.1-47.3c-23.2 44.2-66.5 76.2-117.7 83.9V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v230.2c-51.2-7.7-94.5-39.7-117.7-83.9l-63.1 47.3c-14.1 10.6-34.2 7.7-44.8-6.4s-7.7-34.2 6.4-44.8l83.4-62.5c-.1-2.6-.2-5.2-.2-7.9v-32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h98.8c2.5-10.4 6.5-20.2 11.8-29.1l-97.8-73.3c-14.1-10.6-17-30.7-6.4-44.8s30.7-17 44.8-6.4L192 184c12.3-5.1 25.8-8 40-8h112c14.2 0 27.7 2.8 40 8l108.8-81.6c14.1-10.6 34.2-7.7 44.8 6.4"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/YQjANGMZvu" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://slack.dokku.com/" target="_blank" rel="noopener" title="slack.dokku.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M94.1 315.1c0 25.9-21.2 47.1-47.1 47.1S0 341 0 315.1 21.2 268 47.1 268h47.1v47.1zm23.7 0c0-25.9 21.2-47.1 47.1-47.1s47.1 21.2 47.1 47.1v117.8c0 25.9-21.2 47.1-47.1 47.1s-47.1-21.2-47.1-47.1zm47.1-189c-25.9 0-47.1-21.2-47.1-47.1s21.2-47 47.1-47S212 53.2 212 79.1v47.1h-47.1zm0 23.7c25.9 0 47.1 21.2 47.1 47.1S190.8 244 164.9 244H47.1C21.2 244 0 222.8 0 196.9s21.2-47.1 47.1-47.1zm189 47.1c0-25.9 21.2-47.1 47.1-47.1s47 21.2 47 47.1-21.2 47.1-47.1 47.1h-47.1v-47.1zm-23.7 0c0 25.9-21.2 47.1-47.1 47.1S236 222.8 236 196.9V79.1c0-25.9 21.2-47.1 47.1-47.1s47.1 21.2 47.1 47.1zm-47.1 189c25.9 0 47.1 21.2 47.1 47.1s-21.2 47-47.1 47-47.1-21.2-47.1-47.1v-47.1h47.1zm0-23.7c-25.9 0-47.1-21.2-47.1-47.1s21.2-47.1 47.1-47.1h117.8c25.9 0 47.1 21.2 47.1 47.1s-21.2 47.1-47.1 47.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://webchat.libera.chat/?channels=dokku" target="_blank" rel="noopener" title="webchat.libera.chat" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M214.7.7c17.3 3.7 28.3 20.7 24.6 38L220.2 128h126.5l22-102.7C372.4 8 389.4-3 406.7.7s28.3 20.7 24.6 38L412.2 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32h-81.6L371 320h67.8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-81.6l-22 102.7c-3.7 17.3-20.7 28.3-38 24.6s-28.3-20.7-24.6-38l19.1-89.3H165.2l-22 102.7c-3.7 17.3-20.7 28.3-38 24.6s-28.3-20.7-24.6-38L99.8 384H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h81.6L141 192H73.2c-17.7 0-32-14.3-32-32s14.3-32 32-32h81.6l22-102.7C180.4 8 197.4-3 214.7.7M206.4 192 179 320h126.5l27.4-128z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/dokku" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/dokku/dokku/discussions" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M384 144c0 97.2-86 176-192 176-26.7 0-52.1-5-75.2-14l-81.6 43.2c-9.3 4.9-20.7 3.2-28.2-4.2s-9.2-18.9-4.2-28.2l35.6-67.2C14.3 220.2 0 183.6 0 144 0 46.8 86-32 192-32s192 78.8 192 176m0 368c-94.1 0-172.4-62.1-188.8-144 120-1.5 224.3-86.9 235.8-202.7 83.3 19.2 145 88.3 145 170.7 0 39.6-14.3 76.2-38.4 105.6l35.6 67.2c4.9 9.3 3.2 20.7-4.2 28.2s-18.9 9.2-28.2 4.2L459.2 498c-23.1 9-48.5 14-75.2 14"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://dokku.dpdcart.com/cart/add?product_id=217344&method_id=236878" target="_blank" rel="noopener" title="dokku.dpdcart.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M24-16C10.7-16 0-5.3 0 8s10.7 24 24 24h45.3c3.9 0 7.2 2.8 7.9 6.6l52.1 286.3c6.2 34.2 36 59.1 70.8 59.1H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H200.1c-11.6 0-21.5-8.3-23.6-19.7l-5.1-28.3H475c30.8 0 57.2-21.9 62.9-52.2l31-165.9c3.7-19.7-11.4-37.9-31.5-37.9H124.7l-.4-2c-4.8-26.6-28-46-55.1-46zm184 528a48 48 0 1 0 0-96 48 48 0 1 0 0 96m224 0a48 48 0 1 0 0-96 48 48 0 1 0 0 96"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "content.action.edit", "content.action.view", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.top", "search.highlight"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
  
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    

  <!-- Extra JavaScript (can't be set in mkdocs.yml due to content hash) -->
  <script src="../../overrides/assets/javascripts/bundle.js"></script>

  </body>
</html>